<% content_for :modal_content, flush: true do %>
    <%= form_with url: search_feeds_path, class: 'feeds-search modal-header-input relative group', data: { behavior: 'feeds_search', remote: true}, html: {autocomplete: 'off', novalidate: true} do %>
        <label for="q">+ Add</label><%= url_field_tag(:q, "", placeholder: 'Feed or Website URL', autocomplete: "off", autocorrect: "off", autocapitalize: "off", spellcheck: false, data: { behavior: 'feeds_search_field autofocus'}) %>
        <span data-behavior="feeds_search_favicon_target" class="favicon-target"></span>
        <div class="absolute right-6 inset-y-0">
          <%= render App::SpinnerComponent.new %>
        </div>
    <% end %>
<% end %>

<% content_for :modal_title, "", flush: true %>

<% content_for :modal_body, flush: true do %>
    <div data-behavior="subscribe_target" class="available-subscriptions"></div>
<% end %>

<% content_for :modal_footer, flush: true do %>
    <div class="password-footer hide">
        <button type="button" class="button button-tertiary" data-dismiss="modal">Cancel</button>
        <button type="button" class="button" data-behavior="submit_add">Continue</button>
    </div>
    <div class="subscribe-footer">
        <span data-behavior="feeds_search_messages" class="modal-footer-message">
            <span data-behavior="feeds_search_message message_none" class="hide">Select one or more feeds</span>
            <span data-behavior="feeds_search_message message_one" class="hide">Subscribe to the selected feed</span>
            <span data-behavior="feeds_search_message message_multiple" class="hide">Subscribe to the selected feeds</span>
        </span>
        <button type="button" class="button button-tertiary" data-dismiss="modal">Cancel</button>
        <button type="button" class="button" data-behavior="submit_add" disabled="disabled">Add</button>
    </div>
<% end %>

<%= render template: "layouts/modal", locals: {purpose: "subscribe"} %>