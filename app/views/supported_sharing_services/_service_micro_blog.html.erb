<%= render partial: "supported_sharing_services/type_xauth", locals: {sharing_service: sharing_service, status: status, record: record} %>
<% record = (status == :active) ? sharing_service : record %>
<div class="service-options-wrap">
    <div class="service-options">
        <p>You can create a new app token on this <a href="https://micro.blog/account/apps" target="_blank" rel="noopener noreferrer">Micro.blog account page</a>.</p>
        <%= form_for(record) do |f| %>
            <%= f.hidden_field :service_id, value: sharing_service[:service_id] %>
            <%= f.hidden_field :operation, value: "authorize" %>
            <div class="stacked-form">
                <div class="input-group-wrap">
                    <label for="micro_blog_password">App Token</label>
                    <%= render "shared/input" do %>
                        <%= text_field_tag :password, "", id: "micro_blog_password" %>
                    <% end %>
                </div>

            </div>
            <div class="button-wrap">
                <%= button_tag 'Cancel', type: "button", class: 'button button-tertiary button-inline', data: {behavior: "toggle_service_options"} %>
                <%= submit_tag "Save", class: 'button button-primary-plain' %>
            </div>
        <% end %>
    </div>
</div>

