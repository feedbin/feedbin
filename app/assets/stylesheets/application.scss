@import "../../../vendor/assets/stylesheets/github";
@import "../../../vendor/assets/stylesheets/obsidian";
@import "../../../vendor/assets/stylesheets/bigfoot-default";

@import "theme";
@import "functions";

/*------------------------------------------------------------------------------
Variables
------------------------------------------------------------------------------*/

$small-breakpoint: 700px;

$toolbar-height: 41px;
$font-stack: -apple-system, system-ui, "Helvetica Neue", Helvetica, Arial, sans-serif;
$audio-player-height: 115px;
$audio-player-height-minimized: 54px;
$base-button-position: 10px;

/*-- Colors --*/
$theme-color-base: white;
$theme-color-100: #F5F5F7;
$theme-color-200: #E9E9EB;
$theme-color-300: #BDBFC3;
$theme-color-400: #91959B;
$theme-color-500: #707680;
$theme-color-600: #39404B;
$theme-color-700: #0D1623;

$theme-color-sunset-base: #f5f2eb;
$theme-color-sunset-100: #EBE8E2;
$theme-color-sunset-200: #DFDCD6;
$theme-color-sunset-300: #B8B6B0;
$theme-color-sunset-400: #8E8C88;
$theme-color-sunset-500: #6E6D69;
$theme-color-sunset-600: #3B3A38;
$theme-color-sunset-700: #191818;

$theme-color-dusk-base: #262626;
$theme-color-dusk-100: #2D2D2D;
$theme-color-dusk-200: #353535;
$theme-color-dusk-300: #4D4D4D;
$theme-color-dusk-400: #707070;
$theme-color-dusk-500: #8C8C8C;
$theme-color-dusk-600: #D4D4D4;
$theme-color-dusk-700: #F6F6F6;

$theme-color-midnight-base: black;
$theme-color-midnight-100: #141414;
$theme-color-midnight-200: #242424;
$theme-color-midnight-300: #3B3B3B;
$theme-color-midnight-400: #595959;
$theme-color-midnight-500: #757575;
$theme-color-midnight-600: #BABABA;
$theme-color-midnight-700: #F5F5F5;

$color-accent-blue-400: #619EEC;
$color-accent-blue-600: #0867E2;
$color-accent-blue-700: #0755B9;

$color-accent-orange-600: #E96A0E;

$color-accent-green-600: #07AC47;
$color-accent-green-700: #068D3B;

$color-accent-red-200: #F8E7EA;
$color-accent-red-600: #BB0B2F;

$color-base: (
    debug:    color-base,
    day:      $theme-color-base,
    sunset:   $theme-color-sunset-base,
    dusk:     $theme-color-dusk-base,
    midnight: $theme-color-midnight-base,
);

$color-contrast-100: (
    debug:    color-contrast-100,
    day:      $theme-color-100,
    sunset:   $theme-color-sunset-100,
    dusk:     $theme-color-dusk-100,
    midnight: $theme-color-midnight-100,
);

$color-base-alt: (
    debug:    color-base-alt,
    day:      $theme-color-base,
    sunset:   $theme-color-sunset-base,
    dusk:     $theme-color-dusk-100,
    midnight: $theme-color-midnight-100,
);

$color-contrast-200: (
    debug:    color-contrast-200,
    day:      $theme-color-200,
    sunset:   $theme-color-sunset-200,
    dusk:     $theme-color-dusk-200,
    midnight: $theme-color-midnight-200,
);

$color-contrast-300: (
    debug:    color-contrast-300,
    day:      $theme-color-300,
    sunset:   $theme-color-sunset-300,
    dusk:     $theme-color-dusk-300,
    midnight: $theme-color-midnight-300,
);

$color-contrast-400: (
    debug:    color-contrast-400,
    day:      $theme-color-400,
    sunset:   $theme-color-sunset-400,
    dusk:     $theme-color-dusk-400,
    midnight: $theme-color-midnight-400,
);

$color-contrast-500: (
    debug:    color-contrast-500,
    day:      $theme-color-500,
    sunset:   $theme-color-sunset-500,
    dusk:     $theme-color-dusk-500,
    midnight: $theme-color-midnight-500,
);

$color-contrast-600: (
    debug:    color-contrast-600,
    day:      $theme-color-600,
    sunset:   $theme-color-sunset-600,
    dusk:     $theme-color-dusk-600,
    midnight: $theme-color-midnight-600,
);
$color-icons: $color-contrast-600;

$color-contrast-700: (
    debug:    color-contrast-700,
    day:      $theme-color-700,
    sunset:   $theme-color-sunset-700,
    dusk:     $theme-color-dusk-700,
    midnight: $theme-color-midnight-700,
);

$color-borders: (
    debug:    color-borders,
    day:      $theme-color-200,
    sunset:   $theme-color-sunset-200,
    dusk:     black,
    midnight: $theme-color-midnight-200,
);
$color-borders-alt: map-merge($color-borders, (debug: color-borders-alt, midnight: black));

$color-selected: (
    debug:    color-selected,
    day:      $color-accent-blue-600,
    sunset:   $color-accent-blue-600,
    dusk:     $color-accent-blue-600,
    midnight: $color-accent-blue-600,
);

$color-selected-hover: (
    debug:    color-selected-hover,
    day:      $color-accent-blue-700,
    sunset:   $color-accent-blue-700,
    dusk:     $color-accent-blue-700,
    midnight: $color-accent-blue-700,
);

$color-selected-active: (
    debug:    color-selected-active,
    day:      $color-accent-blue-600,
    sunset:   $color-accent-blue-600,
    dusk:     $color-accent-blue-600,
    midnight: $color-accent-blue-600,
);

$color-selected-off: (
    debug:    color-selected-off,
    day:      $theme-color-500,
    sunset:   $theme-color-sunset-500,
    dusk:     $theme-color-dusk-100,
    midnight: $theme-color-midnight-100,
);

$color-logo-foreground: (
    debug:    color-logo-foreground,
    day:      $theme-color-200,
    sunset:   $theme-color-sunset-200,
    dusk:     $theme-color-dusk-base,
    midnight: $theme-color-midnight-base,
);

$color-logo-background: (
    debug:    color-logo-background,
    day:      transparent,
    sunset:   transparent,
    dusk:     $theme-color-dusk-200,
    midnight: $theme-color-midnight-200,
);

$image-spinners: (
    debug:    image-spinners,
    day:      image-url("spinner-day.svg"),
    sunset:   image-url("spinner-sunset.svg"),
    dusk:     image-url("spinner-night.svg"),
    midnight: image-url("spinner-night.svg"),
);

$color-arrow-shadow: $color-borders;
$selected: #0867E2;
$inset-bg-color: #f4f6f8;
$box-shadow-dropdown: 0px 4px 6px 2px rgba(0, 0, 0, 0.1);
$focus-glow: 0px 0px 0px 4px $color-accent-blue-400;
$focus-glow-inset: inset $focus-glow;
$subtle-focus-glow: 0px 0px 1px 0 rgba($selected, 1);
$color-selected-muted: rgba(white, .7);
$color-selected-muted-light: rgba(white, .3);

$color-sidebar: (
    debug:    color-sidebar,
    day:      $theme-color-100,
    sunset:   $theme-color-sunset-100,
    dusk:     map-get($color-base, dusk),
    midnight: map-get($color-base, midnight),
);

$color-base-light-100: (
    debug:    color-base-light-100,
    day:      $theme-color-100,
    sunset:   $theme-color-sunset-100,
    dusk:     $theme-color-dusk-600,
    midnight: $theme-color-midnight-600,
);

$color-base-light-200: (
    debug:    color-base-light-200,
    day:      $theme-color-200,
    sunset:   $theme-color-sunset-200,
    dusk:     $theme-color-dusk-500,
    midnight: $theme-color-midnight-500,
);

$color-base-dark-700: (
    debug:    color-base-dark-300,
    day:      $theme-color-700,
    sunset:   $theme-color-sunset-700,
    dusk:     $theme-color-dusk-200,
    midnight: $theme-color-midnight-200,
);

$color-base-dark-600: (
    debug:    color-base-dark-300,
    day:      $theme-color-600,
    sunset:   $theme-color-sunset-600,
    dusk:     $theme-color-dusk-200,
    midnight: $theme-color-midnight-200,
);

$color-disabled-foreground: (
    debug:    color-base-light-200,
    day:      $theme-color-200,
    sunset:   $theme-color-sunset-200,
    dusk:     $theme-color-dusk-400,
    midnight: $theme-color-midnight-400,
);

$color-control-border: (
    debug:    color-base-light-200,
    day:      $theme-color-400,
    sunset:   $theme-color-sunset-400,
    dusk:     $theme-color-dusk-500,
    midnight: $theme-color-midnight-500,
);

/*------------------------------------------------------------------------------
HTML Elements
------------------------------------------------------------------------------*/
*,*:before,*:after {
  box-sizing: border-box;
}

body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    width: 100%;
    font-size: 16px;
    -webkit-text-size-adjust: none;
}

body {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    font-family: $font-stack;
    @include background-color($color-base)
    @include color($color-contrast-600);
    &.theme-sunset {
        background-color: map-get($color-base, sunset);
        color: map-get($color-contrast-700, sunset);
    }
    &.theme-dusk {
        background-color: map-get($color-base, dusk);
        color: map-get($color-contrast-700, dusk);
    }
    &.theme-midnight {
        background-color: map-get($color-base, midnight);
        color: map-get($color-contrast-700, midnight);
    }
    &.theme-auto {
        background-color: map-get($color-base, day);
        color: map-get($color-contrast-700, day);
        @media (prefers-color-scheme: dark) {
            background-color: map-get($color-base, dusk);
            color: map-get($color-contrast-700, dusk);
        }
    }
    @include respond-to(hidpi) {
        -moz-osx-font-smoothing: grayscale;
        -webkit-font-smoothing: antialiased;
        font-smoothing: antialiased;
    }
    &.native.app {
        overflow: hidden;
    }
    &.touch.app {
        -webkit-tap-highlight-color: rgba(0,0,0,0);
    }
}

$color-link: (
    debug:    color-link,
    day:      $color-accent-blue-600,
    sunset:   $color-accent-blue-600,
    dusk:     $theme-color-dusk-700,
    midnight: $theme-color-midnight-700,
);
a, .link {
    @include color($color-link);
    text-decoration: none;
}

$color-hover: (
    debug:    color-hover,
    day:      $color-accent-blue-700,
    sunset:   $color-accent-blue-700,
    dusk:     $theme-color-dusk-600,
    midnight: $theme-color-midnight-600,
);
a:hover {
    @include color($color-hover);
    text-decoration: underline;
}

a:focus {
    outline: thin dotted #333;
    outline: 5px auto -webkit-focus-ring-color;
    outline-offset: -2px;
}

a:hover,
a:active {
    outline: 0;
}

p {
    margin: 0 0 16px 0;
}

sub,
sup {
    position: relative;
    font-size: 75%;
    line-height: 0;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

pre {
    white-space: pre-wrap;
}

pre code {
    background-color: transparent;
}

iframe {
    border: none;
    max-width: 100% !important;
}

svg {
    overflow: visible;
}

:focus {
  outline-color: transparent;
  outline-style: none;
}

button,
input,
select,
textarea {
    margin: 0;
    font-size: 100%;
    vertical-align: middle;
    font-family: $font-stack;
}

button,
input {
    *overflow: visible;
    line-height: normal;
}

button::-moz-focus-inner,
input::-moz-focus-inner {
    padding: 0;
    border: 0;
}

input[type="text"],
input[type="email"],
input[type="password"],
input[type="url"],
input[type="search"],
input[type="tel"] {
    appearance: none;
}

button,
html input[type="button"],
input[type="reset"],
input[type="submit"] {
    cursor: pointer;
    appearance: button;
}

label,
select,
button,
input[type="button"],
input[type="reset"],
input[type="submit"],
input[type="radio"],
input[type="checkbox"] {
    cursor: pointer;
}

input[type="search"]::-webkit-search-decoration,
input[type="search"]::-webkit-search-cancel-button {
        appearance: none;
}

textarea {
    overflow: auto;
    vertical-align: top;
}

@mixin form-control {
    @include color($color-contrast-600);
    @include font-size(16);
    max-width: 100%;
    width: 100%;
    display: block;
}

@mixin focus {
    @include color($color-contrast-700);
    @include background-color($color-contrast-100);
    outline: none;
    @include border(transparent);
}

textarea,
input[type="text"],
input[type="password"],
input[type="datetime"],
input[type="datetime-local"],
input[type="date"],
input[type="month"],
input[type="time"],
input[type="week"],
input[type="number"],
input[type="email"],
input[type="url"],
input[type="search"],
input[type="tel"],
input[type="color"],
.uneditable-input {
    font-size: 16px;
    @include background-color($color-contrast-200);
    padding: 7px 8px;
    border-radius: 4px;
    border: none;
    text-align: left;
    margin: 0;
    position: relative;
    line-height: normal;
    @include color($color-contrast-600);
    border: 1px solid transparent;
    &:focus {
        @include focus;
    }
    &.small-field {
        max-width: 340px;
    }
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill,
    &:-webkit-autofill:hover
    &:-webkit-autofill,
    &:-webkit-autofill:hover {
        -webkit-text-fill-color: map-get($color-contrast-700, day);
        -webkit-box-shadow: none !important;
        transition: none !important;
        @include border(transparent);
    }
    &:-webkit-autofill:focus,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:focus {
        -webkit-text-fill-color: map-get($color-contrast-700, day);
        -webkit-box-shadow: none !important;
        transition: none !important;
        @include focus;
    }
    &::-webkit-contacts-auto-fill-button {
        @include background-color($color-contrast-600);
    }
}

input::placeholder,
input:focus::placeholder,
textarea::placeholder,
textarea:focus::placeholder {
    @include color($color-contrast-400);
}

input.processing {
    @include background-image($image-spinners)
    background-position: 97% 7px;
    background-repeat: no-repeat;
    background-size: 16px 16px;
}

select {
    margin-bottom: 0;
}

label {
    display: block;
}

.checkbox {
    padding-left: 24px;
    $size: 16px;
    display: flex;
    align-items: center;
    input[type="checkbox"] {
        position: absolute;
        z-index: -1;
        opacity: 0;
    }
    label {
        position: relative;
        &:before {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            left: -24px;
            content: "";
            height: $size;
            width: $size;
            @include background-color($color-contrast-200);
            @include border-color($color-control-border);
            border-radius: 3px;
            border: 2px solid transparent;
        }
        &:after {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            left: -29px;
            height: $size + 10px;
            width: $size + 10px;
            content: "";
            display: block;
            position: absolute;
            border: 4px solid transparent;
            border-radius: 8px;
        }
    }
    svg {
        position: absolute;
        left: -21px;
        top: 50%;
        transform: translateY(-50%);
        @include fill(white);
        display: none;
    }
    :focus ~ label {
        &:after {
            border-color: $color-accent-blue-400;
        }
    }
    :checked ~ label {
        &:before {
            @include border-color(transparent);
            background-color: $color-accent-green-600;
        }
        svg {
            display: block;
        }
    }
    :active ~ label {
        &:before {
            @include background-color($color-contrast-300);
            @include border-color($color-contrast-600);
        }
        &:after {
            border-color: $color-accent-blue-400;
        }
    }
    :checked:active ~ label {
        &:before {
            @include background-color($color-accent-green-700);
            @include border-color(transparent);
        }
        &:after {
            border-color: $color-accent-blue-400;
        }
    }
    [disabled] ~ label {
        &:before {
            @include background-color($color-contrast-200);
            @include border-color($color-contrast-300);
        }
    }
    [disabled]:checked ~ label {
        &:before {
            @include background-color($color-contrast-300);
        }
        svg {
            @include fill($color-base-light-200);
        }
    }
    [disabled]:active ~ label {
        &:after {
            border-color: transparent;
        }
    }
}

.select {
    appearance: none;
    border: none;
    @include background-color($color-contrast-200);
    @include color($color-contrast-600);
    @include border(transparent);
    font-size: 16px;
    line-height: normal;
    padding: 7px 8px;
    border-radius: 4px;
    flex-shrink: 0;
    &::-ms-expand {
        display: none;
    }
    &:focus {
        @include focus;
    }
    &[disabled] {
        @include background-color($color-contrast-300);
        @include color($color-disabled-foreground);
        cursor: default;
    }
}

label select {
    margin-bottom: 0;
}

.switch {
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    width: 43px;
    display: flex;
    align-items: center;
    justify-content: center;
    .switch-inner {
        width: 43px;
        height: 24px;
        display: block;
        position: relative;
        border-radius: 24px;
        @include background-color($color-contrast-400);
        &:before {
            height: 34px;
            width: 53px;
            border-radius: 34px;
            border: 4px solid transparent;
            display: block;
            content: "";
            z-index: 1;
            transition: border-width .2s ease;
            position: absolute;
            top: -5px;
            left: -5px;
        }
        &:after {
            $size: 18px;
            position: absolute;
            display: block;
            content: "";
            height: $size;
            width: $size;
            border-radius: $size;
            @include background-color($color-base-light-100);
            top: 3px;
            left: 3px;
        }
        &:after {
            z-index: 2;
            transition: transform .2s ease;
            opacity: 1;
        }
        svg {
            position: absolute;
            transition: transform .2s ease, opacity .3s ease !important;
            top: 9px;
            left: 7px;
            z-index: 3;
            opacity: 0;
            fill: $color-accent-green-600;
        }
    }
    &.small {
        width: 32px;
        .switch-inner {
            width: 32px;
            height: 19px;
            &:before {
                height: 29px;
                width: 42px;
            }
            &:after {
                height: 13px;
                width: 13px;
            }
            svg {
                display: none;
            }
        }
    }
}
label .switch-inner {
    :checked ~ & {
        @include background-color($color-accent-green-600);
        &:after, svg {
            transform: translateX(19px);
        }
        &:after {
            box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
            @include background-color(white);
        }
        svg {
            opacity: 1;
        }
    }
    :focus ~ &, :active ~ & {
        &:before {
            border-color: $color-accent-blue-400;
        }
    }
    :active ~ & {
        &:after {
            @include background-color(white);
        }
    }
    :checked:active ~ & {
        @include background-color($color-accent-green-700);
        svg {
            @include fill($color-accent-green-700);
        }
    }
}
label .switch.small .switch-inner {
    :checked ~ & {
        &:after, svg {
            transform: translateX(13px);
        }
    }
}
.radio-button {
    $radio-button-size: 18px;
    position: absolute;
    right: 3px;
    top: 0;
    bottom: 0;
    width: $radio-button-size;
    display: flex;
    align-items: center;
    .radio-button-inner {
        border-radius: 50%;
        border: 2px solid transparent;
        height: $radio-button-size;
        width: $radio-button-size;
        &:before {
            $size: 28px;
            position: absolute;
            display: block;
            content: "";
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            height: $size;
            width: $size;
            z-index: 1;
            border: 4px solid transparent;
        }
        &:after {
            $size: 8px;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            display: block;
            content: "";
            border-radius: $size;
            height: $size;
            width: $size;
            z-index: 2;
        }
    }
}
label .radio-button .radio-button-inner {
    @include border-color($color-control-border);
    @include background-color($color-contrast-200);
    :checked ~ & {
        @include border-color($color-accent-green-600);
        background-color: transparent;
        &:after {
            @include background-color($color-accent-green-600);
        }
    }
    :active ~ & {
        @include background-color($color-contrast-300);
        @include border-color($color-contrast-600);
        &:before {
            @include border-color($color-accent-blue-400);
        }
    }
    :focus ~ & {
        &:before {
            @include border-color($color-accent-blue-400);
        }
    }
    :checked:active ~ & {
        @include border-color($color-accent-green-600);
        background-color: transparent;
        &:after {
            @include background-color($color-accent-green-600);
        }
    }
}

.input-group-wrap {
    margin-bottom: 16px;
    label {
        display: block;
        padding-bottom: 8px;
    }
}

.input-group {
    position: relative;
    display: flex;
    line-height: 1;
    .input-helper {
        position: absolute;
        top: -5px;
        right: -5px;
        bottom: -5px;
        left: -5px;
        border: 4px solid transparent;
        border-radius: 9px;
        pointer-events: none;
    }
    &.accessory-left {
        input, .button {
            padding-left: 32px !important;
        }
    }
    &.accessory-right {
        input, .button {
            padding-right: 40px !important;
        }
    }
    .select {
        padding-right: 32px;
    }
    .accessory {
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        width: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        pointer-events: none;
        &.right {
            right: 0;
            left: auto;
        }
    }
    button.accessory {
        border: none;
        pointer-events: all;
        appearance: none;
        @include background($color-selected);
        border-radius: 0 4px 4px 0;
        &:active {
            @include border-color($color-selected-hover);
            @include background-color($color-selected-hover);
            @include color(white);
            cursor: pointer;
        }
        svg {
            @include fill(white, $extra: !important);
        }
    }
    svg {
        @include fill($color-icons);
    }
    input, select, textarea {
        flex: 1;
    }
    input ~ .accessory.right .spinner {
        display: none;
    }
    input.processing ~ .accessory.right .spinner {
        display: block;
    }
    input:focus.processing ~ .accessory.right .spinner {
        &:before {
            @include border-color(map-merge($color-contrast-300, (debug: spinner-bg, dusk: $theme-color-dusk-500, midnight: $theme-color-midnight-500)));
        }
        &:after {
            @include theme("border-left-color", map-merge($color-contrast-400, (debug: spinner-foreground, dusk: $theme-color-dusk-200, midnight: $theme-color-midnight-200)));
        }
    }
    input ~ .accessory svg {
        @include fill($color-contrast-400);
    }
    select ~ .accessory svg {
        @include fill($color-contrast-500);
    }
    input:focus ~ .input-helper,
    textarea:focus ~ .input-helper,
    select:focus ~ .input-helper,
    .StripeElement--focus ~ .input-helper {
        border-color: $color-accent-blue-400;
    }
    input:focus ~ .accessory,
    select:focus ~ .accessory {
        svg {
            @include fill($color-link);
        }
    }
    input[disabled] ~ .accessory,
    select[disabled] ~ .accessory {
        svg {
            @include fill($color-disabled-foreground);
        }
    }
    @media (max-width: $small-breakpoint) {
        input, select {
            width: 100%;
            max-width: 100% !important;
        }
    }
    &.tag-input {
        margin-bottom: 8px;
        input {
            cursor: pointer;
        }
        input::placeholder {
            @include color($color-contrast-600);
            text-align: center;
            font-weight: bold;
        }
        input:focus::placeholder {
            text-align: left;
            font-weight: normal;
            @include color($color-contrast-400);
        }
    }
}

.field_with_errors input,
input.error {
    border: 1px solid red;
}

table {
    max-width: 100%;
    background-color: transparent;
    border-collapse: collapse;
    border-spacing: 0;
}

table {
    max-width: 100%;
    background-color: transparent;
}

.table {
    width: 100%;
    margin-bottom: 20px;
    th {
        text-align: left;
    }
}

.table thead > tr > th,
.table tbody > tr > th,
.table tfoot > tr > th,
.table thead > tr > td,
.table tbody > tr > td,
.table tfoot > tr > td {
    @include border-top($color-borders);
    padding: 8px;
    line-height: 1.428571429;
    vertical-align: top;
}

.table thead > tr > th {
    vertical-align: bottom;
}

.table caption + thead tr:first-child th,
.table colgroup + thead tr:first-child th,
.table thead:first-child tr:first-child th,
.table caption + thead tr:first-child td,
.table colgroup + thead tr:first-child td,
.table thead:first-child tr:first-child td {
    border-top: 0;
}

.table tbody + tbody {
    border-top: 2px solid transparent;
    @include border-color($color-borders);
}

.table .table {
    background-color: transparent;
}

.table-bordered {
    @include border($color-borders);
}

.table-bordered > thead > tr > th,
.table-bordered > tbody > tr > th,
.table-bordered > tfoot > tr > th,
.table-bordered > thead > tr > td,
.table-bordered > tbody > tr > td,
.table-bordered > tfoot > tr > td {
    @include border($color-borders);
}

.table-striped  {
    tr:first-child th,
    tr:first-child td {
        border: none !important;
    }
    td, th {
        padding: 11px !important;
    }
    border-bottom: none !important;
}

.pill {
    @include border($color-borders);
    border-radius: 8px;
    padding: 16px;
    display: flex;
    &.form {
        justify-content: flex-end;
        flex-direction: column;
        .form-control {
            margin-top: 16px;
            flex: 1;
            display: flex;
            button {
                margin-left: auto;
            }
        }
    }
}

.pill-list {
    border-radius: 8px;
    @include border($color-borders);
    margin: 0 0 32px 0;
    padding: 0;
    list-style: none;
    @media (max-width: $small-breakpoint) {
        border-left: none;
        border-right: none;
        border-radius: 0;
    }
    li {
        padding: base-units(2) 0;
        margin: 0;
        @include border-bottom($color-borders);
        position: relative;
        &:last-child {
            border-bottom: none;
        }
        &.linked {
            padding: 0;
            a {
                display: block;
                text-decoration: none;
                padding: base-units(2) 0;
                @include color($color-contrast-700);
                z-index: 10;
                position: relative;
                @media (max-width: $small-breakpoint) {
                    padding-right: 20px;
                }
            }
            a:hover .link {
                text-decoration: underline;
            }
            .icon-arrow {
                @include fill($color-contrast-400);
                transform: scaleX(-1);
            }
        }
        .description {
            margin-right: 48px;
        }
        .status-flag {
            display: none;
        }
        &.error  {
            .status-flag {
                display: block;
            }
        }
    }
    &.segmented {
        border: none;
        li {
            margin-bottom: 16px;
            border: none;
            &.linked a {
                border-radius: 8px;
                padding-left: 16px;
                padding-right: 16px;
                @include border($color-borders);
            }
            .status-flag {
                border-radius: 8px 0 0 0;
                left: -1px;
            }
        }
    }
    .text-with-accessory {
        display: flex;
        align-items: center;
        .text {
            flex: 1 1 auto;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        .accessory {
            flex: 0 0 auto;
            margin-left: auto;
        }
    }
}

.sharing-services {
    @extend .pill-list;
    border: none;
    li {
        padding: 0;
        border-radius: 8px;
        margin-bottom: 16px;
        @include border($color-borders);
        &:last-child {
            @include border($color-borders);
        }
        .icon-wrap {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            width: 25px;
            margin-right: 16px;
            svg {
                @include fill($color-icons);
                flex-shrink: 0;
            }
        }
    }
    .service-header {
        display: flex;
        align-items: center;
        padding: 16px;
        .last-control {
            margin-left: auto;
            padding-left: base-units(2);
        }
        .control-group-description {
            margin-left: 41px;
            margin-top: 3px;
        }
    }
    .header {
        display: flex;
    }
    .service-options-wrap {
        position: relative;
        height: 0;
        transition: height .2s ease, opacity .2s ease;
        opacity: 0;
        overflow: hidden;
        border-radius: 0 0 8px 8px;
        p {
            @include color($color-contrast-500);
        }
        &.fully-open {
            overflow: visible;
        }
        .service-options {
            display: none;
            padding: 16px;
            @include border-top($color-borders);
            &.nested-controls {
                padding: 0;
            }
        }
        &.open {
            .service-options {
                display: block;
            }
            opacity: 1;
        }
        .control-group {
            margin: 0;
            padding: 0;
            border: none;
            li {
                border: none;
                @include border-bottom($color-borders);
                border-radius: 0;
                margin: 0;
            }
            li:last-child {
                border: none;
            }
            li > form > label {
                padding-left: base-units(2);
                padding-right: base-units(2);
            }
            .switch {
                right: base-units(2);
            }
        }
    }
    .service-title {
        @include color($color-contrast-700);
        font-size: 16px;
        margin: 0;
        overflow: visible;
    }
    .service-error {
        padding-right: 30px;
        background: image-url("icon-error.svg") 100% 2px no-repeat;
    }
    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="url"] {
        display: block;
        @media (max-width: $small-breakpoint) {
            max-width: 100%;
        }
    }
    small {
        display: block;
        &.hide {
            display: none;
        }
        &.sub-head {
            padding-left: 0;
            max-width: 100%;
        }
    }
    .half {
        padding-left: 5px;
        padding-right: 5px;
        @media (max-width: $small-breakpoint) {
            width: 100%;
            float: none;
        }
    }
    .pad-top {
        padding-top: 7px;
    }
}

.inset {
    margin: 0 0 base-units(7) 0;
    .pill-list {
        border-radius: 0;
        border-left: none;
        border-right: none;
    }
}


.description-inset {
    padding: 0;
    &.icon-email {
        background: image-url("icon-share-email.svg") 30px 3px no-repeat;
        background-size: 24px 16px;
        padding-left: 64px;
        @media (max-width: $small-breakpoint) {
            padding-left: 49px;
            background-position: 15px 3px;
        }
    }
}


/*------------------------------------------------------------------------------
Structure
------------------------------------------------------------------------------*/
.container {
    margin-right: auto;
    margin-left: auto;
    padding-left: 15px;
    padding-right: 15px;
    max-width: 1170px;
}

.loading-app {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    .logo {
        max-height: 80px;
        max-width: 80px;
        #logo_foreground {
            @include fill($color-logo-foreground);
        }
        #logo_background {
            @include fill($color-logo-background);
        }
    }
}

.search-wrap {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    flex-direction: column;
    z-index: 0;
    display: none;
    .search & {
        display: flex;
    }
    .show-search-options & {
        z-index: 10;
    }
    .has-offscreen-panels & {
        top: $toolbar-height;
    }
}

.search-form {
    margin: 0;
    @include background-color($color-base);
    transition: opacity .3s ease-in;
    opacity: 0;
    position: relative;
    display: none;
    height: $toolbar-height;
    @include border-bottom($color-borders);
    .search & {
        opacity: 1;
        display: flex;
    }
    .icon-wrap {
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        width: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        padding-bottom: 1px;
    }
    svg {
        width: 14px;
        height: 14px;
        @include fill($color-contrast-400);
    }
    input[type="search"] {
        width: 100%;
        height: 100%;
        max-width: 100%;
        margin: 0;
        padding: 0 36px 0 36px;
        @include font-size(14);
        border: none;
        background-color: transparent;
        @include color($color-contrast-700);
        line-height: auto;
        &:focus {
            border: none;
            background: transparent;
        }
        &.processing {
            background-repeat: no-repeat;
            background-position: right 8px top ($base-button-position + 2);
            background-size: 16px 16px;
            @include background-image($image-spinners);
        }
    }
}

.search-control {
    @include background-color($color-contrast-100);
    @include border-bottom($color-borders);
    @include font-size(12);
    line-height: 14px;
    height: $toolbar-height;
    position: absolute;
    top: $toolbar-height;
    left: 0;
    right: 0;
    display: none;
    .show-search-options & {
        display: block;
    }
    .search-toolbar {
        height: $toolbar-height;
        display: flex;
        justify-content: center;
        transition: opacity .3s ease-in;
        opacity: 0;
        .show-search-options & {
            opacity: 1;
        }
    }
    .save-search {
        font-weight: bold;
        cursor: pointer;
        user-select: none;
        @include color($color-contrast-700);
        display: flex;
        align-items: center;
        padding-right: 8px;
        &:hover {
            text-decoration: none;
        }
    }
    .dropdown-wrap {
        margin-right: auto;
        display: flex;
        justify-content: flex-start;
        align-items: center;
    }
    .sort-order {
        @include background-color($color-contrast-100);
        border-radius: 12px;
        margin: 0 0 0 8px;
        @include color($color-contrast-700);
        display: inline-block;
        position: relative;
        cursor: pointer;
        user-select: none;
        &:after {
            width: 0px;
            height: 0px;
            border-style: solid;
            border-width: 5px 4px 0 4px;
            border-color: black transparent transparent transparent;
            @include theme("border-top-color", $color-contrast-700);
            content: "";
            position: absolute;
            right: -13px;
            bottom: 4px;
        }
    }
    .dropdown-wrap {
        .dropdown-content {
            top: 35px;
            left: 8px;
        }
    }
}

.subscribe-promo {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    .subscribe-promo-inner {
        margin-top: 195px;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        .remaining-time {
            margin-bottom: base-units(1);
            @include color($color-contrast-600);
        }
        @media (max-height: 450px) {
            margin-top: 120px;
        }
    }
    .entry-selected & {
        display: none;
    }
    .native & {
        display: none;
    }
}

.splash {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    .logo {
        max-height: 80px;
        max-width: 80px;
        #logo_foreground {
            @include fill($color-logo-foreground);
        }
        #logo_background {
            @include fill($color-logo-background);
        }
    }
    .splash-inner {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
    }
    .trial-time {
        position: relative;
        top: 48px;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        .remaining-time {
            margin-bottom: base-units(1);
            @include color($color-contrast-600);
        }
        .native & {
            display: none;
        }
    }
    .entry-selected & {
        display: none;
    }
}

.app-wrap {
    display: flex;
    overflow: hidden;
    align-items: flex-start;
    height: 100%;
    scrollbar-width: none;
    -ms-overflow-style: none;
    &::-webkit-scrollbar {
      display: none;
    }
    .native & {
        height: 100vh;
    }
    .feeds-column,
    .entries-column {
        flex-grow: 0;
        @include border-right($color-borders);
    }
    .feeds-column {
        width: 280px;
        @include background-color($color-base);
    }
    .inner-column {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        display: flex;
        flex-direction: column;
    }
    .entries-column {
        width: 380px;
        @media (max-width: 1300px) {
            width: 320px;
        }
    }
    .entry-column {
        flex-grow: 1;
    }
    &.show {
        display: flex !important;
    }
}

.app-panel {
    height: 100%;
    position: relative;
}

.scroll-bars {
    ::-webkit-scrollbar, &.settings-body::-webkit-scrollbar {
        appearance: none;
        width: 12px;
    }
    ::-webkit-scrollbar-thumb, &.settings-body::-webkit-scrollbar-thumb {
        border: 3px solid transparent;
        @include border-color($color-contrast-200, $root: true);
        @include background-color($color-contrast-400, $root: true);
        border-radius: 6px;
        &:hover {
            @include background-color($color-contrast-500, $root: true);
        }
    }
    ::-webkit-scrollbar-track-piece, &.settings-body::-webkit-scrollbar-track-piece {
        @include background-color($color-contrast-200, $root: true);
    }

    // Firefox
    scrollbar-color: map-get($color-contrast-400, day) map-get($color-contrast-200, day);
    &.theme-sunset {
        scrollbar-color: map-get($color-contrast-400, sunset) map-get($color-contrast-200, sunset);
    }
    &.theme-dusk {
        scrollbar-color: map-get($color-contrast-400, dusk) map-get($color-contrast-200, dusk);
    }
    &.theme-midnight {
        scrollbar-color: map-get($color-contrast-400, midnight) map-get($color-contrast-200, midnight);
    }
    &.theme-auto {
        scrollbar-color: map-get($color-contrast-400, day) map-get($color-contrast-200, day);
        @media (prefers-color-scheme: dark) {
            scrollbar-color: map-get($color-contrast-400, dusk) map-get($color-contrast-200, dusk);
        }
    }
}

.hamburger-menu-wrap {
    position: absolute;
    user-select: none;
    top: 0;
    right: 0;
    width: $toolbar-height - 1;
    height: $toolbar-height - 1;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    svg {
        @include fill($color-icons);
    }
}

$hamburger-dot: 4px;
.hamburger-menu {
    cursor: pointer;
    z-index: 2;
    position: relative;
    &:before {
        left: -6px;
        position: absolute;
    }
    &:after {
        position: absolute;
        left: 6px;
    }
}
.hamburger-menu, .hamburger-menu:before, .hamburger-menu:after {
    width: $hamburger-dot;
    height: $hamburger-dot;
    border-radius: $hamburger-dot/2;
    content: '';
    display: inline-block;
    @include background-color($color-icons);
}


.bottom-toolbar {
    @include font-size(10);
    @include background-color($color-base);
    @include border-top(transparent);
    padding-bottom: 16px;
    z-index: 2;
    display: flex;
    justify-content: center;
    align-items: center;
    .entries-column & {
        display: none;
    }
    .has-offscreen-panels .feeds-column & {
        display: none;
    }
    .has-offscreen-panels .entries-column & {
        display: flex;
    }
    .toolbar-inner {
        display: flex;
        width: 100%;
        justify-content: flex-end;
    }
    @media (max-width: $small-breakpoint) {
        @include border-top($color-borders-alt);
    }
}

.feed-toolbar {
    padding-bottom: 0;
    z-index: 2;
    padding: 16px 0 20px 0;
    .entries-column & {
        padding: 8px 0;
    }
    .toolbar-button {
        flex: 1;
        appearance: none !important;
        border: none;
        margin: 0;
        padding: 0;
        @include font-size(12);
        font-family: $font-stack;
        display: flex;
        justify-content: flex-end;
        align-items: center;
        flex-direction: column;
        background-color: transparent;
        cursor: pointer;
        &:hover {
            text-decoration: none;
        }
        span {
            padding-top: 6px;
            @include color($color-icons);
            flex: 0 0 auto;
            .has-offscreen-panels & {
                padding-top: 4px;
            }
        }
        svg {
            @include fill($color-icons);
        }
        &[disabled] {
            pointer-events: none;
            cursor: default;
            span {
                @include color($color-contrast-300);
            }
            svg {
                @include fill($color-contrast-300);
            }
        }
    }
    .toolbar-button-inner {
        justify-content: center;
        align-items: flex-end;
        display: flex;
    }
    .add-button {
        .has-offscreen-panels & {
            display: none;
        }
    }
    .edit-button {
        span {
            position: relative;
            left: -1px;
        }
    }
    .icon-subscribe {
        $size: 38px;
        @include color(white);
        @include background-color($color-icons);
        user-select: none;
        line-height: 1;
        cursor: pointer;
        touch-action: manipulation;
        display: flex;
        align-items: center;
        justify-content: center;
        width: $size;
        height: $size;
        border-radius: $size;
        svg {
            @include fill($color-base);
        }
    }
}

.view_unread {
    .zero-count {
        display: none;
    }
    .collection-starred,
    .collection-all {
        display: none;
    }
}
.view_starred {
    .zero-count {
        display: none;
    }
    .collection-all,
    .collection-unread,
    .collection-updated {
        display: none;
    }
}
.view_all {
    .zero-count .count {
        display: none;
    }
    .collection-starred,
    .collection-unread,
    .collection-updated {
        display: none;
    }
}

.collection-saved-search.zero-count {
    display: block;
}

.collection-unread {
    .favicon-unread-active {
        display: none;
    }
    &.selected {
        .favicon-unread {
            display: none;
        }
        .favicon-unread-active {
            display: inline;
        }
    }
}

.view-mode {
    position: sticky;
    top: -10px;
    z-index: 2;
    @include background-color($color-base);
    @include size-in-rems(padding, 25 16 8 16)
    display: flex;
    .view-mode-icon {
        $size: 27px;
        height: $size;
        width: $size;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: transform 0.2s ease;
        svg {
            @include fill($color-icons);
        }
    }
    .view-mode-dropdown {
        display: flex;
        flex: 1;
        align-items: center;
        cursor: pointer;
        .dropdown-content {
            top: 40px;
            left: -8px;
        }
    }
    .selected-view-mode {
        margin: 0;
        @include font-size(24);
        font-weight: bold;
        line-height: 1.1;
        @include color($color-contrast-700);
        transition: transform 0.2s ease;
        transform-origin: top left;
        display: flex;
        align-items: center;
        .view-mode-unread,
        .view-mode-starred,
        .view-mode-all {
            display: none;
        }
        .view_unread & .view-mode-unread {
            display: block;
        }
        .view_starred & .view-mode-starred {
            display: block;
        }
        .view_all & .view-mode-all {
            display: block;
        }
    }
    .toggle-search {
        align-items: center;
        justify-content: center;
        display: flex;
        appearance: none !important;
        border: none;
        padding: 0;
        width: 48px;
        height: 40px;
        background-color: transparent;
        transition: transform 0.2s ease;
        position: relative;
        right: -1rem;
        svg {
            @include fill($color-icons);
        }
        .has-offscreen-panels .feeds-column & {
            display: none;
        }
    }
    .feed-scrolled:not(.has-offscreen-panels) & {
        .selected-view-mode {
            transform: scale(.75);
        }
        .toggle-search {
            transform: translate3d(0, -3px, 0);
        }
    }
    .feed-scrolled.has-offscreen-panels & {
        position: static;
    }
}

.feeds .view-mode {
    display: none;
    @include size-in-rems(padding-bottom, 25)
    .has-offscreen-panels & {
        display: flex;
    }
}

.top-toolbar {
    .show-subscribe svg {
        @include fill($color-icons);
    }
    .show-subscribe,
    .settings-button-wrap {
        display: none;
    }
}
.has-offscreen-panels .top-toolbar {
    height: $toolbar-height;
    @include border-bottom(transparent);
    align-items: center;
    justify-content: space-between;
    display: flex;
    .show-subscribe,
    .settings-button-wrap {
        display: flex;
        align-items: center;
        justify-content: center;
        appearance: none;
        border: none;
        background: none;
        padding: 0;
    }
    .hamburger-menu-wrap, .show-subscribe {
        position: static;
        height: $toolbar-height - 1px;
        width: 48px;
    }
    .view-mode, .select-wrap, select {
        height: 100%;
    }
    .view-mode {
        margin: 0;
        padding: 0;
        display: none;
        select {
            margin: 0;
            transform: scale(1);
            width: auto;
        }
    }
    .toggle-search {
        display: none;
    }
    .selected-view-mode {
        font-size: 16px;
        align-items: center;
    }
    .view-mode {
        position: static;
    }
    .view-mode-dropdown {
        position: static;
        .dropdown-content {
            left: 8px;
            right: auto;
            top: 42px;
        }
    }
}
.feed-scrolled-alt.has-offscreen-panels .top-toolbar {
    @include border-bottom($color-borders-alt, $root: true);
    .view-mode {
        display: flex;
    }
}

.feeds {
    @include background-color($color-base);
    overflow-y: hidden;
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
    flex: 1;
    padding-top: 12px;
    &.show {
        overflow-y: auto;
    }
    .has-offscreen-panels & {
        padding-top: 0;
    }
    .feeds-target {
        padding-bottom: env(safe-area-inset-bottom);
    }
    ul {
        margin: 0;
        padding: 0;
        list-style: none;
        li {
            a {
                text-decoration: none;
            }
            .rename-form {
                position: absolute;
                top: 0;
                right: 0;
                left: 0;
                margin: 0;
                padding: 0;
                z-index: 10;
                height: 30px;
            }
            .rename-feed-input {
                position: absolute;
                top: 5px;
                left: 64px;
                right: 40px;
                appearance: none;
                padding: 2px;
                margin: 0;
                line-height: 1;
                border: 0;
                @include font-size(14);
                max-width: 100%;
                border-radius: 0;
                text-overflow: ellipsis;
                cursor: text;
                @include color($color-contrast-700);
                &.disabled {
                    cursor: pointer;
                    pointer-events: none;
                    background-color: transparent;
                }
            }
            &.tag > .rename-form .rename-feed-input {
                left: 40px;
            }
            &.source-section,
            &.collection-unread .feed-link,
            &.collection-all .feed-link,
            &.collection-starred .feed-link,
            &.collection-recently-played .feed-link,
            &.collection-updated .feed-link,
            &.collection-recently-read .feed-link,
            &.collection-pages .feed-link {
                padding-left: 16px;
            }
            .count-wrap {
                margin-left: 8px;
                text-overflow: ellipsis;
                overflow: hidden;
                white-space: nowrap;
                text-align: right;
                flex: 0 0 auto;
                display: flex;
                align-items: center;
                justify-content: flex-end;
            }
            .count {
                @include color($color-contrast-500);
            }
            .tag-link .count-wrap {
                margin-left: 0;
            }
            .tag-link .favicon-wrap {
                display: none;
            }
            .feed-action-form {
                padding: 0;
                margin: 0;
                overflow: visible;
                min-width: 50px;
                position: absolute;
                right: 0;
                top: 0;
                bottom: 0;
                .feed-action-button {
                    font-weight: bold;
                    @include color($color-contrast-400);
                    @include font-size(12);
                    display: block;
                    appearance: none;
                    background: none;
                    border: none;
                    padding: 0 16px 0 0;
                    margin: 0;
                    text-align: right;
                    position: absolute;
                    right: 0;
                    top: 0;
                    bottom: 0;
                }
            }
            .clear-form {
                display: none;
            }
            &.selected {
                .feed-action-button {
                    @include color(white);
                }
                .clear-form {
                    display: block;
                }
            }
            /* link padding + favicon outerwidth */
            $tag-offset: 16px + 26px;
            .tag-link {
                padding-left: $tag-offset;
                position: relative;
            }
            &.tag {
                .drawer {
                    height: 0;
                    opacity: 0;
                }
                .icon-caret {
                    @include fill($color-icons);
                    transform: rotate(-90deg);
                }
                &.open {
                    .drawer {
                        height: auto;
                        opacity: 1;
                    }
                    .icon-caret {
                        transform: rotate(0deg);
                    }
                }
                &.animate {
                    .drawer {
                        transition: opacity .3s linear;
                    }
                    .icon-caret {
                        transition: transform .15s linear;
                    }
                }
            }
            .tag-visibility-control {
                padding: 0;
                margin: 0;
                .feed-action-button {
                    position: absolute;
                    width: $tag-offset;
                    top: 0;
                    left: 0;
                    bottom: 0;
                    display: flex;
                    align-items: center;
                    justify-content: flex-start;
                    appearance: none;
                    background: none;
                    border: none;
                    padding: 0 0 0 20px;
                    margin: 0;
                }
            }
            &.selected {
                .feed-action-button {
                    svg {
                        @include fill(white);
                    }
                }
                .clear-form {
                    display: block;
                }
            }
            &.ui-draggable-dragging {
                background-color: rgba(255,255,255, 1);
                @include background-color($color-selected);
                opacity: .8;
                border-radius: 4px;
                .count {
                    display: none;
                }
                .feed-link {
                    background-color: transparent !important;
                    .rename-feed-input {
                        color: white !important;
                        &.disabled {
                            color: white !important;
                        }
                    }
                }
            }
        }
    }
    .drawer {
        position: relative;
        overflow: hidden;
        ul {
            overflow: hidden;
            padding: 0;
            position: relative;
            &:before {
                content: "";
                @include background-color($color-contrast-200);
                display: block;
                position: absolute;
                top: -1px;
                left: 42px;
                right: 15px;
                height: 1px;
            }
        }
    }
    .droppable-hover > a {
        @include theme(background-color, $color-selected, $extra: !important);
    }
}

.feeds:not(.dragging) .selected  {
    > a .count {
        color: white;
    }
    input[disabled] {
        color: rgba(255,255,255,.9);
    }
    .rename-feed-button {
        @include background-color($color-selected);
    }
}

.feeds:not(.dragging) .selected > a {
    @include background-color($color-selected-off);
    color: white !important;
    .rename-feed-input {
        color: map-get($color-contrast-700, day);
        &.disabled {
            color: white;
        }
    }
}

.selected .feeds:not(.dragging) .selected > a {
    @include background($color-selected);
    &:hover {
        @include background($color-selected);
    }
}

.feeds:not(.dragging) li.selected .drawer ul:after {
    @include theme(border-top-color, $color-selected-off);
}

.selected .feeds:not(.dragging) li.selected .drawer ul:after {
    @include theme(border-top-color, $color-selected);
}

.feeds {
    .drop-hover > a {
        @include background-color($color-contrast-200);
    }
    li.drop-hover .drawer {
        @include box-shadow($color-contrast-200, inset 0 0 0 3px);

        ul:after {
            @include theme("border-top-color", $color-borders)
        }
    }
}

.feed-list {
    li {
        padding: 0;
        margin: 0;
        position: relative;
        z-index: 0;

        .feed-link, &.feed-link, &.source-section {
            @include font-size(14);
            @include color($color-contrast-600);
            @include size-in-rems(padding-top, 6)
            @include size-in-rems(padding-bottom, 6)
            &.tag-link {
                @include size-in-rems(padding-top, 7)
                @include size-in-rems(padding-bottom, 7)
            }
            padding-left: 40px;
            padding-right: 16px;
            .favicon-wrap {
                margin-right: 6px;
                flex-shrink: 0;
            }
            .collection-label-wrap {
                min-width: 0;
                flex: 1 1 auto;
                line-height: 1;
                display: flex;
                align-items: center;
            }
            .collection-label {
                display: block;
                text-overflow: ellipsis;
                overflow: hidden;
                line-height: 1.3;
                white-space: nowrap;
                &.hide {
                    display: none;
                }
            }
        }
        &.source-section {
            @include font-size(15);
            @include size-in-rems(padding-top, 22)
            @include color($color-contrast-600);
            font-weight: bold;
            display: flex;
            align-items: center;
            svg {
                @include fill($color-icons);
            }
            &.hide {
                display: none;
            }
        }
        .feed-link, &.feed-link {
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            width: 100%;
            display: block;
            align-items: center;
            display: flex;
        }
    }
}

.favicon-wrap {
    height: 20px;
    width: 20px;
    background-color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0px 1px 1px 0px rgba(0, 0, 0, 0.1);
    border-radius: 2px;
    flex: 0 0 auto;
    .favicon, svg, img {
        background-repeat: no-repeat;
        background-position: center center;
        background-size: 16px 16px;
        height: 16px;
        width: 16px;
        display: block;
    }
    &.twitter-profile-image {
        border-radius: 20px;
        img {
            border-radius: 16px;
        }
    }
    .entries & {
        @include background-color((day: transparent, dusk: white, sunset: transparent, midnight: white));
        $shadow: (
            day: none,
            dusk: 0px 1px 1px 0px rgba(0, 0, 0, 0.1),
            sunset: none,
            midnight: none,
        );
        @include box-shadow-irregular($shadow);
    }
}

.host-feedbin-resolv-app, .host-feedbin-com, .host-feedbin-me {
    &.favicon {
        background-image: image-url("logo.svg") !important;
    }
}
.host-twitter-com {
    &.favicon {
        background-image: image-url("replacement-favicon-twitter.svg") !important;
    }
}

.theme-day {
    .favicon-wrap {
        box-shadow: none;
    }
}

.theme-auto {
    @media (prefers-color-scheme: light) {
        .favicon-wrap {
            box-shadow: none;
        }
    }
}

li.selected > a .favicon-wrap, .theme-day li.selected > a .favicon-wrap {
    @include background-color(white);
    @include box-shadow(rgba(0, 0, 0, 0.1), 0px 1px 1px 0px);
    .feeds &.collection-favicon {
        background: transparent;
        box-shadow: none;
    }
}

.favicon-default {
    height: 16px;
    width: 16px;
    overflow: hidden;
    display: block;
    border-radius: 2px;
    .favicon-inner {
        height: 32px;
        width: 32px;
        content: "";
        display: block;
        background-repeat: no-repeat;
    }
    &.favicon-mask .favicon-inner {
        background-image: image-url("favicon-mask.svg");
    }
    &.favicon-mask-alt .favicon-inner {
        background-image: image-url("favicon-mask-alt.svg");
    }
}

.collection-favicon {
    background-size: 16px 16px;
    background: transparent !important;
    box-shadow: none;
    svg {
        @include fill($color-icons);
        li.selected > .feed-link &, li.selected.feed-link &, .entries li.selected & {
            fill: white;
        }
    }
    .entries & {
        box-shadow: none !important;
    }
}

.favicon-all {
    width: 12px !important;
    height: 10px !important;
}

.favicon-unread {
    width: 14px !important;
    height: 13px !important;
}

.favicon-unread-active {
    width: 14px !important;
    height: 13px !important;
}

.favicon-newsletter {
    width: 16px !important;
    height: 12px !important;
}

.back-button {
    display: block;
    appearance: none;
    border: none;
    height: 16px;
    width: 11px;
    padding: 0;
    background-color: transparent;
    align-items: center;
    justify-content: center;
    display: flex;
    svg * {
        @include fill($color-icons);
    }
    .full-screen & {
        display: none !important;
    }
}

.entries-header {
    align-items: center;
    justify-content: space-between;
    @include color($color-contrast-400);
    display: none;
    margin: 0;
    @include border-bottom($color-borders);
    height: $toolbar-height;
    text-align: center;
    overflow: hidden;
    flex-shrink: 0;
    z-index: 5;
    .one-up & {
        @include border-bottom($color-borders-alt, $root: true);
    }
    .feed-title-wrap {
        @include color($color-contrast-700);
        font-weight: bold;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    .back-button {
        display: flex;
        position: static;
        height: 100%;
        width: 40px;
        flex-shrink: 0;
    }
    .search-button {
        background-color: transparent;
        display: flex;
        align-items: center;
        justify-content: center;
        visibility: visible;
        appearance: none;
        border: none;
        padding: 0;
        height: 100%;
        width: 40px;
        flex-shrink: 0;
        svg {
            @include fill($color-icons);
        }
    }
    .favicon-wrap {
        position: absolute;
        left: 0;
        top: -2px;
    }
}

.entries {
    overflow-y: auto;
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;

    transition: transform .15s ease-in;
    @include background-color($color-base);
    flex: 1;
    z-index: 4;
    .search & {
        transform: translateY($toolbar-height);
        padding-bottom: $toolbar-height;
        @include border-color($color-borders);
    }
    .has-offscreen-panels &.loading {
        .entries-target {
            display: none;
        }
        background-repeat: no-repeat;
        background-position: 50% 25%;
        @include background-image($image-spinners, true);
        @include background-color($color-base, true);
    }
    .search.show-search-options & {
        transform: translateY($toolbar-height * 2);
        padding-bottom: $toolbar-height * 2;
    }
    ul {
        margin: 0;
        padding: 0 0 17px 0;
        list-style: none;
    }
}

@mixin body-size {
    @include font-size(14);
    .has-offscreen-panels.touch & {
        @include font-size(15);
    }
}

.entry-summary {
    margin: 0;
    position: relative;
    .summary-menu {
        display: none;
        position: absolute;
        right: 0;
        bottom: 0;
        width: 40px;
        height: 38px;
        .summary-menu-button {
            padding: 0;
            border: 0;
            background-color: transparent;
            appearance: none;
            width: 100%;
            height: 100%;
            svg {
                @include fill(white);
                position: absolute;
                left: 8px;
                bottom: 19px;
            }
        }
        .entries-display-inline & {
            height: auto;
            top: 0;
            .summary-menu-button {
                display: flex;
                align-items: center;
                justify-content: center;
                svg {
                    position: static;
                }
            }
        }
        .icon-direction.flip {
            transform: scaleY(-1);
        }
        .dropdown-wrap .dropdown-content {
            top: -34px;
            width: auto;
        }
    }
    .entries-column.selected &.selected .summary-menu {
        display: block;
    }
}

.entry-summary-link {
    $margin: 4px;
    display: block;
    line-height: 1.3;
    @include font-size(14);
    @include size-in-rems(padding, 12 16px 12 16)
    @include color($color-contrast-600);
    text-decoration: none !important;
    .title-wrap {
        display: flex;
        margin-bottom: $margin;
        .favicon-wrap {
            margin-right: base-units(1);
            flex: 0 0 auto;
        }
        .title {
            @include font-size(15);
            font-weight: bold;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            .one-up & {
                @include font-size(16);
            }
            .no-title & {
                display: block;
                @include ellipse;
                .title-inner span {
                    font-weight: normal;
                }
            }
        }
    }
    &:hover {
        @include color($color-contrast-600);
        text-decoration: none;
    }
    .summary-content {
        display: block;
        margin-left: 28px;
    }
    .feed-title {
        @include ellipse;
        margin: $margin 0 $margin 0;
    }
    .summary {
        margin: $margin 0 $margin 0;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        .no-title & {
            display: block;
            overflow: visible;
            white-space: normal;
        }
        .inline-title {
            display: none;
        }
    }
    .quoted-tweet, .link-preview {
        margin: 8px 0 8px 0;
        padding: 8px;
        border-radius: 8px;
        overflow: hidden;
        @include border($color-borders);
    }
    .entry-image {
        margin: 8px 0 8px 0;
        display: block;
        border-radius: 8px;
        overflow: hidden;
        &.is-loading {
            position: relative;
            @include background-color($color-contrast-100);
        }
        img {
            display: block;
            max-width: 100%;
            height: auto;
        }
        span {
            padding-top: 56.25%;
            display: block;
        }
    }
    .link-preview {
        padding: 0;
        overflow: hidden;
        .entry-image {
            margin: 0;
            border-radius: 0;
        }
        img {
            width: 100%;
        }
    }
    .summary-status {
        display: flex;
        margin: base-units(1) 0 0 0;
        align-items: center;
        svg {
            margin: 0 8px;
        }
        .icon-star-on {
            visibility: hidden;
            margin: 0 2px 0 auto;
            fill: $color-accent-orange-600;
            height: 12px !important;
            width: 12px !important;
            .entry-summary.starred & {
                visibility: visible;
            }
            .entries-column .entry-summary.selected.starred & {
                fill: #FFF;
            }
            .entries-column.selected .entry-summary.selected.starred & {
                visibility: hidden;
            }
        }
        .icon-retweet {
            display: none;
            .entry-summary.re-tweet & {
                display: block;
            }
        }
        .icon-media {
            display: none;
            .entry-summary.media & {
                display: block;
            }
        }
    }
    .summary-inner, .summary {
        overflow-wrap: break-word;
    }
    .summary-status-inline, .feed-title-inline {
        display: none;
    }
    .link-preview-content {
        padding: 8px;
    }
    .light {
        @include color($color-contrast-500);
    }
    .extra-light {
        @include color($color-contrast-400);
    }
    svg.light {
        @include fill($color-contrast-500);
    }
}

@mixin title-font {
    @include font-size(14);
    font-weight: bold;
    @include color($color-contrast-600, $root: true);
}

$feed-title-width: 115px;
.entries-display-inline .entry-summary-link {
    display: flex;
    @include ellipse;
    align-items: center;
    padding: 8px 8px;
    .title-wrap .favicon-wrap,
    .quoted-tweet,
    .link-preview,
    .entry-image,
    .summary-content .feed-title {
        display: none;
    }
    .title-wrap, .summary, .summary-status, .feed-title {
        margin-top: 0;
        margin-bottom: 0;
    }
    .feed-title-inline {
        display: block;
        flex: 0 0 auto;
        display: flex;
        align-items: center;
        width: $feed-title-width;
        @include ellipse;
        margin-right: base-units(1);
        .favicon-wrap {
            margin-right: base-units(1);
        }
    }
    .title-wrap {
        display: none;
    }
    .summary-content {
        display: block;
        margin: 0 base-units(2) 0 0;
        @include ellipse;
        .summary-status {
            display: none;
        }
    }
    .summary {
        @include ellipse;
        .inline-title {
            @include ellipse;
            display: inline;
            margin: 0 base-units(1) 0 0;
            @include title-font;

        }
    }
    .summary-status {
        display: flex;
        margin-left: auto;
        flex: 0 0 auto;
        flex-direction: row-reverse;
        margin-right: 4px;
        .icon-star-on {
            order: -1;
            margin-left: 16px;
        }
    }
}

.entries-display-inline .no-title .entry-summary-link {
    .feed-title-inline {
        width: auto;
        margin-right: 0;
    }
    .title-wrap {
        display: flex;
        flex: 0 0 auto;
        @include ellipse;
        width: $feed-title-width - 28;
        margin-right: base-units(1);
    }
    .title {
        @include font-size(14);
        font-weight: normal;
    }
    .summary {
        @include title-font;
    }
}

.entry-summary.selected .entry-summary-link {
    @include color(white);
    @include background-color($color-selected-off);
    .light, .extra-light {
        @include color($color-selected-muted);
    }
    svg.light {
        @include fill($color-selected-muted);
    }
    .quoted-tweet, .link-preview {
        @include border-color($color-selected-muted-light);
    }
    .quoted-tweet strong {
        @include color(white);
    }
    .entries-column.selected & {
        @include background-color($color-selected);
    }
    .inline-title {
        @include color(white);
    }
}
.entry-summary.read:not(.selected) .entry-summary-link {
    @include color($color-contrast-400);
    .inline-title {
        @include color($color-contrast-400);
    }
    .light, .extra-light {
        @include color($color-contrast-400);
    }
    svg.light {
        @include fill($color-contrast-400);
    }
}

.entries-display-inline .entry-summary.selected.no-title .entry-summary-link {
    .summary {
        @include color(white);
    }
}

.entries-display-inline .entry-summary.read.no-title:not(.selected) .entry-summary-link {
    .summary {
        @include color($color-contrast-400);
    }
}


.entries-feed-0 .entries {
    .feed-title {
        display: none;
    }
    .feed-title-inline {
        width: 20px;
    }
}

.entries-feed-0.entries-display-inline .entries {
    .no-title .title-wrap {
        display: none;
    }
}

.entries-body-0 .entries {
    .summary-inner {
        display: none;
    }
}

.entries-body-0:not(.entries-display-inline) .entries {
    .no-title {
        .summary {
            display: none;
        }
    }
}

.entries-image-0 .entries, .entries-display-inline .entries {
    .entry-image, .link-preview {
        display: none;
    }
}

.entry-toolbar {
    display: flex;
    z-index: 3;
    width: 100%;
    height: $toolbar-height;
    @include background-color($color-base);
    @include border-bottom($color-borders);
    transition: transform .2s ease;
    transform: translate3d(0, 0, 0);
    &.animate {
        transform: translate3d(0, 0, 0);
    }
    .one-up & {
        @include border-bottom($color-borders-alt, $root: true);
    }
    .site-info {
        flex: 1 1 auto;
        display: flex;
        align-items: stretch;
        min-width: 0;
    }
    .back-button {
        display: none;
        height: 100%;
        width: 40px;
        flex-shrink: 0;
    }
    .button-full-screen {
        display: none;
        @include border-right($color-borders);
        justify-content: center;
        align-items: center;
        .full-screen & {
            display: flex;
        }
        .native & {
            border: none;
        }
    }
    .feed-button {
        margin-left: 13px;
        display: flex;
        align-items: center;
        appearance: none;
        border: none;
        background: none;
        padding: 0;
        overflow: hidden;
        &.link {
            cursor: pointer;
        }
        &:hover {
            text-decoration: none;
        }
        .favicon-wrap {
            position: static;
            background-color: white;
            @include background-color((day: transparent, dusk: white, sunset: transparent, midnight: white));
            $shadow: (
                day: none,
                dusk: 0px 1px 1px 0px rgba(0, 0, 0, 0.1),
                sunset: none,
                midnight: none
            );
            @include box-shadow-irregular($shadow);
        }
        .entry-feed-title {
            line-height: 20px;
            margin-left: 6px;
            @include font-size(14);
            @include color($color-contrast-600);
            text-decoration: none;
            user-select: none;
            appearance: none !important;
            border: none;
            background: none;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
    }
}

.entry-basement {
    position: absolute;
    top: $toolbar-height;
    left: 0;
    width: 100%;
    @include border-bottom($color-borders);
    display: none;
    &.open {
        display: block;
    }
    &.foreground {
        z-index: 5;
    }
}

.basement-panel {
    max-height: calc(100vh - 41px);
    overflow-y: scroll;
}

.basement-toolbar {
    height: 49px;
    width: 100%;
    @include background-color($color-contrast-100);
    @include arrow(
        $x-position: 62px,
        $y-position: -1px,
        $arrow-color: $color-base,
        $shadow-color: $color-arrow-shadow,
        $origin: right)
    {
        z-index: 10;
        visibility: hidden;
    }
    .one-up & {
        @include border-bottom($color-borders-alt, $root: true);
    }
    .entry-basement.open &:after,
    .entry-basement.open &:before {
        visibility: visible;
    }
    &.feed-settings {
        display: flex;
        align-items: stretch;
        .toolbar-item {
            display: flex;
            align-items: center;
            text-align: center;
            justify-content: center;
            min-width: 50px;
            @include border-right($color-borders);
            padding: 0 8px;
            &:hover {
                text-decoration: none;
            }
            &.icon {
                padding: 0;
            }
        }
        input[type="text"] {
            margin: 0;
        }
        $base-position: 17px;
        &:before {
            left: $base-position;
            right: auto;
        }
        &:after {
            left: $base-position + 1;
            right: auto;
        }
    }
    .touch.has-offscreen-panels & {
        &:before, &:after {
            display: none;
        }
    }
}

.format-wrap {
    height: 100vh;
    width: 100vw;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 8px;
}

.format-palette {
    width: 304px;
    padding: 8px 0 32px 0;
    z-index: 4;
    @media (max-width: $small-breakpoint) {
        padding: 0 0 24px 0;
    }
    @include background-color($color-base-alt);
    @include border($color-borders);
    border-radius: 8px;
    box-shadow: $box-shadow-dropdown;
    input[type="radio"] {
        @extend .visually-hidden;
    }

    h3 {
        @include font-size(14);
        font-weight: bold;
        margin: 24px 16px 16px 16px;
    }
    .control-group {
        margin: 0;
    }
    .control {
        margin: 0 16px;
    }
    $size: 40px;
    .theme-options {
        margin: 0 16px;
        display: flex;
        justify-content: space-between;
        label {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: $size;
            @include font-size(12);
            overflow: visible;
            .swatch {
                height: $size;
                width: $size;
                border-radius: 50%;
                @include border($color-contrast-400);
                margin-bottom: 8px;
                &:after {
                    display: block;
                    content: "";
                    width: 50px;
                    height: 50px;
                    border: 4px solid transparent;
                    border-radius: 50%;
                    position: relative;
                    top: -6px;
                    left: -6px;
                    pointer-events: none;
                }
            }
        }
    }
    :checked + label {
        .swatch:after {
            border-color: $color-accent-blue-400;
        }
    }
    label[for="user_theme_day"] .swatch {
        background-color: $theme-color-base;
    }
    label[for="user_theme_sunset"] .swatch {
        background-color: $theme-color-sunset-base;
    }
    label[for="user_theme_dusk"] .swatch {
        background-color: $theme-color-dusk-base;
    }
    label[for="user_theme_midnight"] .swatch {
        background-color: $theme-color-midnight-base;
        .theme-midnight &.swatch:after {
            border-color: $color-accent-blue-400;
        }
    }
    label[for="user_theme_auto"] .swatch {
        position: relative;
        background-color: $theme-color-base;
        &:before {
            $size: $size - 2;
            right: 0;
            top: 0;
            position: absolute;
            border-top-right-radius: $size * 2;
            border-bottom-right-radius: $size * 2;
            width: 19px;
            height: 38px;
            background-color: $theme-color-dusk-base;
            content: "";
            display: block;
        }
    }
    .font-options {
        display: flex;
        flex-wrap: wrap;
        .option {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            padding: 0;
            flex: 1 1 50%;
            font-size: 16px;
            @include color($color-contrast-600);
            svg {
                @include fill($color-contrast-600);
            }
            label {
                width: 100%;
                height: 40px;
                display: flex;
                align-items: center;
                flex-direction: row-reverse;
                justify-content: flex-end;
            }
            .font-serif-2 {
                position: relative;
                bottom: -3px;
            }
            .font-sans-serif-1 {
                position: relative;
                bottom: -2px;
            }
        }
        .radio-button {
            position: relative;
            margin-right: 8px;
            top: auto;
            right: auto;
            bottom: auto;
            left: auto;
        }
        .option svg {
            margin-left: 1px;
        }
        label[for="user_font_sans-serif-1"] {
            /* whitney */
            font-family: "Sans Serif 1";
        }
        label[for="user_font_sans-serif-2"] {
            /* ideal sans */
            font-family: "Sans Serif 2";
        }
        label[for="user_font_serif-1"] {
            /* sentinel */
            font-family: "Serif 1";
        }
        label[for="user_font_serif-2"] {
            /* mercury */
            font-family: "Serif 2";
        }
        label[for="user_font_serif-3"] {
            font-family: Georgia, serif;
        }
    }
    .font-size {
        display: flex;
        @include border-bottom($color-borders);
        @include border-top($color-borders);
        button {
            @include font-size(14);
            padding: 16px;
            align-items: center;
            justify-content: center;
            flex: 1;
            @include color($color-contrast-600);
            &:active {
                @include color($color-contrast-700);
            }
            &:first-child {
                @include border-right($color-borders);
            }
        }
    }
    .control-group li > label {
        @include font-size(14);
    }
}
.fonts {
    padding: 100px;
}
.fonts .content-styles {
    font-size: 72px !important;
    color: black !important;
}

.entry-column {
    background-position: 50% 50%;
    background-repeat: no-repeat;
    background-size: 80px 80px;
    overflow: hidden;
    .bottom-toolbar {
        display: none;
    }
    &.has-content {
        background: none;
    }
    .full-screen.touch & {
        .bottom-toolbar {
            display: flex;
        }
    }
    .one-up & {
        .bottom-toolbar {
            display: flex;
        }
    }
}

.entry-meta {
    height: $toolbar-height;
    flex-shrink: 0;
    z-index: 2;
    @include background-color($color-base);
    display: none;
    .has-content & {
        display: block;
    }
}

.entry-content-wrap {
    z-index: 0;
    flex: 1;
    position: relative;
}

.entry-content {
    @include background-color($color-base);
    display: block;
    height: auto;
    position: absolute;
    top: 0;
    bottom: 0;
    right: 0;
    left: 0;
    overflow-y: auto;
    overflow-x: hidden;
    transition: transform .2s ease, opacity .15s ease, top .2s ease;
    opacity: 1;
    -webkit-overflow-scrolling: touch;
    z-index: 2;
    &.slide-up {
        transform: translate3d(0, -100vh, 0);
        opacity: 0;
    }
    &.slide-down {
        transform: translate3d(0, 100vh, 0);
        opacity: 0;
    }
}

.next-entry, .previous-entry {
    height: 100vh;
    position: absolute;
    left: 0;
    right: 0;
    will-change: transform;
    transition: transform .2s ease;
    transform: translate3d(0, 0, 0);
    opacity: 1;
    z-index: 1;
}

.load-next-entry {
    transform: translate3d(0, 100vh, 0);
    &.previous-entry {
        transform: translate3d(0, -100vh, 0);
    }
}

.entry-inner {
    min-height: 100%;
    transition: max-width .3s linear;
}

.feeds-target, .entries-target, .entry-inner {
    .touch:not(.scroll-bars) & {
        min-height: 101%;
    }
}

.entry-inner, .next-entry-preview {
    padding: 40px 20px 40px 20px;
    margin: 0 auto;
    max-width: 660px;
}

.next-entry-preview {
    display: block;
    appearance: none !important;
    @include background($color-selected);
    border: none;
    padding: 0;
    text-align: left;
    width: 100%;
    margin: 0 auto;
    @include background-color($color-base);
    &.no-content {
        display: none;
    }
    &:hover {
        text-decoration: none;
    }
    .full-screen.touch & {
        display: none;
    }
    @media (max-width: $small-breakpoint) {
        display: none;
    }
}

.next-entry-preview-inner {
    padding: 30px 0 43px 0;
    margin: 0 15px 20px 15px;
    display: block;
    position: relative;
    @include border-top($color-borders);
    .next-icon {
        content: "";
        display: block;
        height: 18px;
        width: 11px;
        transform: rotate(270deg);
        position: absolute;
        margin-left: auto;
        margin-right: auto;
        left: 0;
        right: 0;
        bottom: 0;
        svg * {
            @include fill($color-icons);
        }
    }
    .next-entry-feed, .next-entry-title {
        display: block;
        @include font-size(14);
        @include color($color-contrast-500);
        margin-bottom: 5px;
        font-family: $font-stack !important;
        font-weight: 400 !important;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
    .next-entry-title {
        @include color($color-contrast-700);
    }
}

.entry-bottom-toolbar {
    display: flex;
    justify-content: center;
    flex-shrink: 0;
    padding: 0;
    .navigation-button {
        @include color($color-contrast-700);
        padding: 11px 0;
        text-decoration: none;
        appearance: none;
        display: block;
        border: none;
        background: none;
        margin: 0;
        cursor: pointer;
        height: 100%;
        width: 100%;
        display: block;
        &[disabled] {
            cursor: default;
            @include color($color-contrast-300);
        }
        &:hover {
            text-decoration: none;
        }
        .toolbar-button-inner {
            height: 23px;
            display: block;
        }
        &.button-previous {
            text-align: right;
            padding-right: 30px;
        }
        &.button-next {
            text-align: left;
            padding-left: 30px;
        }
        .icon-next, .icon-previous {
            display: inline-block;
            width: 11px;
            height: 18px;
            svg * {
                @include fill($color-icons);
            }
        }
        &.button-next, &.button-previous {
            -webkit-tap-highlight-color: rgba(0,0,0,0);
            &:active:not([disabled]) {
                svg * {
                    @include fill($color-selected);
                }
            }
        }
        &[disabled] {
            svg * {
                @include fill($color-contrast-300);
            }
        }
    }
    .icon-next {
        transform: rotate(270deg);
    }
    .icon-previous {
        transform: rotate(90deg);
    }
}

.fluid .entry-inner, .fluid-1 .entry-inner {
    max-width: 100%;
}

.entry-buttons {
    display: flex;
    flex: 0 0 auto;
    z-index: 1;
    align-items: stretch;
    justify-content: flex-end;
    margin-left: 10px;
    form {
        margin: 0;
    }
    .button-toggle-read {
        .circle {
            border: 2px solid transparent;
            @include border-color(map-get($color-selected, day));
            @include background-color(map-get($color-selected, day));
            height: 16px;
            width: 16px;
            border-radius: 16px;
            .read & {
                @include border-color($color-icons);
                background-color: transparent !important;
            }
        }
    }
    .button-toggle-starred {

        .icon-star-on {
            display: none;
        }
        .starred & {
            .icon-star-on {
                display: block;
                * {
                    fill: $color-accent-orange-600;
                }
            }
            .icon-star-off {
                display: none;
            }
        }
    }
    .button-toggle-content {
        width: 46px;
        &.loading {
            @keyframes flip {
                50% {
                    transform: scaleX(-1);
                }
            }
            @keyframes pulse {
                0% {
                    opacity: .8;
                }
                50% {
                    opacity: .4;
                }
                100% {
                    opacity: .8;
                }
            }
            animation: pulse 2s linear infinite;
            svg {
                animation: flip 1s step-start 0s infinite;
            }
        }
    }
    .button-toggle-share-menu {
        svg {
            height: 16px;
            width: 16px;
        }
        .dropdown-content {
            margin-left: -108px;
            left: 50%;
            top: 35px;
        }
    }
}

.account-toolbar {
    margin: 0;
    @include border-bottom(transparent);
    @include background-color($color-base);
    height: $toolbar-height;
    z-index: 1;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    flex-shrink: 0;
    .entry-column.has-content & {
        display: none;
    }
}

.entry-button {
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
    appearance: none;
    border: none;
    background: none;
    width: 45px;
    height: 40px;
    padding: 0;
    position: relative;
    svg {
        pointer-events: none;
    }
    svg * {
        @include fill($color-icons);
    }
}

.settings-menu-button {
    height: 36px;
    width: 36px;
    position: absolute;
    top: 39px;
    right: 8px;
    display: none;
    align-items: center;
    justify-content: flex-end;
    svg {
        @include fill($color-icons);
    }
    @media (max-width: $small-breakpoint) {
        display: flex;
    }
}

.dropdown-wrap {
    position: relative;
    .dropdown-content {
        display: none;
        width: 232px;
        border-radius: 8px;
        @include background-color($color-base-alt);
        @include border($color-borders);
        box-shadow: $box-shadow-dropdown;
        position: absolute;
        z-index: 10000;
    }
    ul {
        margin: 0;
        padding: base-units(1) 0;
        list-style: none;
        li {
            margin: 0;
            padding: 0 base-units(1);
            > a, > span, > button {
                position: relative;
                text-decoration: none;
                display: flex;
                @include font-size(14);
                @include color($color-contrast-700);
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
                width: 100%;
                padding: base-units(1);
                font-family: $font-stack;
                font-weight: 400 !important;
                text-align: left;
                cursor: pointer;
                border-radius: 4px;
                .favicon-unread-active {
                    display: none;
                }
                .menu-text {
                    display: flex;
                    flex-direction: column;
                    line-height: 1.25;
                    .title {
                        @include font-size(14);
                    }
                    .subtitle {
                        @include font-size(12);
                        @include color($color-contrast-500);
                    }
                }
                .icon-wrap {
                    width: 16px;
                    height: 17px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    flex-shrink: 0;
                    margin-right: base-units(1);
                    svg {
                        @include fill($color-icons);
                    }
                }
                &:hover {
                    @include background-color((
                        debug:    dropdown-hover,
                        day:      $theme-color-100,
                        sunset:   $theme-color-sunset-100,
                        dusk:     $theme-color-dusk-200,
                        midnight: $theme-color-midnight-200,
                    ), $extra: !important);
                    text-decoration: none;
                }
                &.selected {
                    @include background-color($color-selected, $extra: !important);
                    &.with-icon {
                        svg {
                            @include fill(white);
                        }
                    }
                }
                &.no-border {
                    border: none;
                }
                &.with-icon {
                    display: flex;
                    align-items: center;
                    span {
                        overflow: hidden;
                        text-overflow: ellipsis;
                        white-space: nowrap;
                        flex: 1;
                        margin-left: 8px;
                    }
                    .icon-check {
                        margin-left: auto;
                        @include fill($color-contrast-700);
                        visibility: hidden;
                    }
                }
            }
            .view_unread &.view-mode-unread,
            .view_starred &.view-mode-starred,
            .view_all &.view-mode-all {
                .icon-check {
                    visibility: visible;
                }
            }
        }
    }
    ul.segmented {
        position: relative;
        margin-bottom: 7px;
        &:before {
            width: 180px;
            height: 1px;
            @include background-color($color-contrast-200);
            top: -4px;
            left: 10px;
            content: "";
            display: block;
            position: absolute;
        }
        &.no-border {
            &:before {
                display: none;
            }
        }
        &.no-margin {
            margin-bottom: 0;
        }
        a, span {
            border-radius: 0 !important;
        }
        &:last-child {
            li:last-child a,
            li:last-child span {
                border-bottom-right-radius: 4px!important;
                border-bottom-left-radius: 4px!important;
            }
        }
        &:first-child {
            li:first-child a,
            li:first-child span {
                border-top-left-radius: 4px!important;
                border-top-right-radius: 4px!important;
            }
        }
    }
    &.open {
        .dropdown-content {
            display: block;
        }
    }
    &.dropdown-right {
        .dropdown-content {
            right: 0;
        }
    }
    &.dropdown-left {
        .dropdown-content {
            left: 0 !important;
        }
    }
    .share-option a {
        display: flex;
        align-items: baseline;
    }
    .share-keyboard {
        @include font-size(14);
        margin-left: auto;
        font-style: normal;
        margin-top: 2px;
        color: map-get($color-contrast-500, day);
    }
}

.entry-header {
    padding: 0;
    margin-bottom: 1.1em;
    position: relative;
    a {
        display: block;
        text-decoration: none;
        @include color($color-contrast-700);
    }
    h1 {
        font-size: 2em;
        line-height: 1.1;
        @include color($color-contrast-700);
        margin: 0 0 .2em 0;
        padding: 0;
        font-weight: bold;
        text-rendering: optimizeLegibility;
        word-wrap: break-word;
    }
    .feed-title {
        display: none;
    }
}
.post-meta {
    @include font-size(16);
    @include color($color-contrast-500);
    line-height: 1.2;
    margin-bottom: .2em;
    a {
        @include color($color-contrast-500);
    }
    .icon-clock {
        float: left;
        margin-right: 5px;
    }
    time {
        display: inline;
    }
}


.share-form {
    @include background-color($color-contrast-100);
    padding: 24px 16px;
    @include arrow(
        $x-position: 241px,
        $y-position: -1px,
        $arrow-color: $color-base,
        $shadow-color: $color-arrow-shadow,
        $origin: right)
    {
        z-index: 10;
        visibility: hidden;
    }
    .entry-basement.open &:after,
    .entry-basement.open &:before {
        visibility: visible;
    }
    .share-form-inner {
        max-width: 620px;
        margin: 0 auto;
    }
    h2 {
        @include font-size(16);
        @include color($color-contrast-700);
        font-weight: bold;
        margin: 0 0 0 0;
    }
    .sharing-header {
        display: flex;
        align-items: center;
        :last-child {
            margin-left: auto
        }
        margin-bottom: 16px;
        svg {
            @include fill($color-icons);
        }
    }
    .field-cluster {
        margin-bottom: 15px;
        input, textarea {
            width: 100%;
            max-width: 100%;
            position: relative;
            @include font-size(16);
        }
        textarea {
            resize: none;
        }
    }
    .sharing-controls {
        margin-bottom: 16px;
        .checkbox {
            margin-bottom: 8px;
        }
    }
}

@keyframes slidein {
  from {
      opacity: 0;
  }
  to {
      opacity: 1;
  }
}

.entry-final-content a {
    position: relative;
}

.link-actions {
    display: inline-block;
    content: "";
    height: 16px;
    width: 28px;
    border-radius: 8px;
    cursor: pointer;
    background-size: 80% 80%;
    opacity: 1;
    transition: opacity .15s ease;
    @include background-color($color-contrast-500);
    &:not([x-placement]) {
        display: none !important;
    }
    > svg {
        position: absolute;
        top: 6px;
        left: 6px;
        @include fill($color-base);
        pointer-events: none;
    }
    .dropdown-content {
        top: 15px;
    }
    ul {
        margin: 0 !important;
    }
    &.hide {
        display: inline-block;
        opacity: 0;
    }
}

.setting-view-link-0 {
    .view-link-app {
        display: flex;
    }
    .view-link-tab {
        display: none;
    }
}
.setting-view-link-1 {
    .view-link-app {
        display: none;
    }
    .view-link-tab {
        display: flex;
    }
}

.media-container {
    margin: 1.1em 0 1.1em 0;
    video {
        width: 100% !important;
        height: auto !important;
        background-color: black;
    }
}

.content-styles {
    font-style: normal;
    font-size: 1.15em;
    line-height: 1.6;
    @include color($color-contrast-600);
    text-rendering: optimizeLegibility;
    overflow-wrap: break-word

    strong {
        font-weight: 700;
        font-style: normal;
    }

    em {
        font-style: italic;
    }

    h1, h2, h3, h4, h5, h6 {
        font-weight: bold;
        font-style: normal;
        margin: .5em 0 .5em 0;
        text-rendering: optimizeLegibility;
        @include color($color-contrast-700);
    }

    h1, h2 {
        font-size: 1.3em;
        line-height: 1.2;
    }

    h3, h4, h5, h6 {
        font-size: 1.1em;
        line-height: 1.3;
    }

    p,
    ul,
    ol,
    figure,
    blockquote,
    .media-container,
    .micropost-wrap,
    .fluid-width-video-wrapper,
    .entry-callout {
        margin: 1.1em 0 1.1em 0;
    }

    .micropost-wrap {
        p,
        ul,
        ol,
        figure,
        blockquote {
            margin-top: 0;
        }
    }

    h1, h2, h3, h4, h5, h6 {
        & + p,
        & + ul,
        & + ol,
        & + figure,
        & + blockquote,
        & + .media-container {
            margin-top: 0;
        }
    }

    blockquote[align="center"] {
        text-align: left;
    }

    dd {
        margin-left: 0;
    }

    li {
        margin: 0 0 .2em 0;
    }

    pre {
        font-family: inherit;
    }

    pre code {
        @include background-color($color-contrast-100);
        @include color($color-contrast-600);
        padding: base-units(2);
        @include border($color-contrast-200);
        display: block;
        overflow-x: auto;
        white-space: pre;
        word-wrap: normal;
        font-size: 90%;
        border-radius: 4px;
    }

    tt, code, kbd, samp {
        font-family: Consolas, Monaco, monospace;
        overflow-x: scroll;
    }

    blockquote {
        padding: 0 0 0 15px;
        border-left: 4px solid transparent;
        @include border-color(map-merge($color-borders, (dusk: $theme-color-dusk-200)));
    }

    blockquote p:last-child {
        margin-bottom: 0;
    }

    blockquote.twitter-tweet, blockquote.instagram-media {
        display: none;
    }

    figcaption, caption {
        font-size: 80%;
        @include color($color-contrast-500);
        font-style: italic;
        line-height: 1.3;
    }

    audio {
        display: block;
        width: 100%;
        background-color: black;
        max-height: 100%;
    }

    th {
        text-align: left;
    }

    .text {
        white-space: pre-wrap;
    }

    .download-link {
        @include font-size(12);
        font-family: $font-stack;
        font-weight: 400 !important;
    }

    .inline-spinner {
        padding-left: 23px;
        background-position: 0 50%;
        background-size: 16px 16px;
        background-repeat: no-repeat;
        @include background-image($image-spinners);
    }

    .diff-wrap {
        padding-left: 36px !important;
        .ignore-updates {
            @include color($color-contrast-400);
            text-decoration: none;
            font-weight: bold;
            float: right;
            @include font-size(16);
            line-height: 1;
        }
        .icon-clock-wrap {
            display: block;
            height: 16px;
            width: 16px;
            position: absolute;
            top: 11px;
            left: 11px;
            svg {
                @include fill($color-contrast-400);
            }
        }
        .diff-wrap-text a, .view-latest-link {
            @include color((day: map-get($color-selected, day), dusk: white, sunset: map-get($color-selected, sunset), midnight: white));
            &:hover {
                text-decoration: underline;
                cursor: pointer;
                @include color((day: $color-accent-blue-600, dusk: $theme-color-dusk-500, sunset: $color-accent-blue-600, midnight: $theme-color-midnight-500));
            }
            .theme-dusk &, .theme-midnight & {
                text-decoration: underline;
            }
        }
    }

    .original-content-info {
        line-height: 1.4;
        display: flex;
        align-items: stretch;
        .favicon-wrap {
            margin-right: 8px;
            position: static;
            background-color: white;
            flex: 0 0 auto;
        }
        .meta-wrap {
            flex: 1 1 auto;
            margin-right: 8px;
        }
        .icon-wrap {
            margin-left: auto;
            display: flex;
            align-items: center;
            justify-content: center;
            flex: 0 0 auto;
            .icon-full-content {
                @include fill($color-icons);
            }
        }
        .original-title,
        .original-title a {
            @include font-size(14);
            font-weight: bold;
            @include color($color-contrast-700);
            margin-bottom: .3em;
            &:hover {
                text-decoration: underline;
            }
        }
        .original-meta {
            @include font-size(12);
            @include color($color-contrast-500);
        }
    }

    .content-error {
        display: flex;
        align-items: center;
        svg {
            margin-right: base-units(1);
        }
    }

    .readability-loading {
        padding-left: 36px !important;
        &:after {
            position: absolute;
            display: block;
            content: "";
            background-repeat: no-repeat;
            background-size: 16px 16px;
            background-position: 11px 11px;
            width: 43px;
            left: 0px;
            top: 0;
            bottom: 0;
            @include background-image($image-spinners);
        }
    }

    &.entry-type-default {
        table {
            @extend .table;
            @extend .table-bordered;
            img {
                max-width: none;
                display: inline;
            }
        }
    }

    &.entry-type-newsletter {
        @media (max-width: 600px) {
            img {
                max-width: 380px !important;
            }
        }
        @media (max-width: 400px) {
            img {
                max-width: 345px !important;
            }
        }
        @media (max-width: 320px) {
            img {
                max-width: 290px !important;
            }
        }
    }

    .newsletter-content {
        @include color($theme-color-600);
    }

}

.entry-inner {
    @media (max-width: $small-breakpoint) {
        img[data-camo-src], .full-width-candidate {
            visibility: hidden;
            &.full-width, &.show {
                visibility: visible;
            }
        }
        img.full-width, .fluid-width-video-wrapper, .media-container {
            width: 100vw !important;
            max-width: none !important;
            margin-left: base-units(-2) !important;
        }
    }
}

.content-styles .entry-callout, .entry-callout {
    @include background-color($color-contrast-100);
    @include color($color-contrast-500);
    position: relative;
    @include font-size(13);
    border-radius: 8px;
    margin: 1.1em 0 1.1em 0;
    padding: 8px 16px;
    @media (max-width: $small-breakpoint) {
        padding: 8px;
    }
    strong {
        font-weight: 700 !important;
    }
}

.content-styles .iframe-embed .entry-callout, .iframe-embed .entry-callout {
    @include background-color($theme-color-midnight-100);
}

.iframe-embed {
    a:hover {
        text-decoration: none;
    }
    .image-wrap {
        display: block;
        position: relative;
        height: 0;
        width: 100%;
        background: black;
        .inner {
            cursor: pointer;
            background-color: black;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        iframe {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
        }
    }
    img {
        margin-bottom: 0 !important;
        max-height: 100% !important;
        max-width: 100% !important;
    }
    .embed-profile {
        display: flex;
        margin-top: 0;
        @include color($color-contrast-600);
        line-height: 1.4;
        &:hover {
            @include color($color-contrast-600, $extra: !important);
        }
    }
    &.embed-with-image .embed-profile {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
    }
    .embed-data {
        padding-right: base-units(2);
    }
    .embed-profile-image {
        width: 68px;
        height: 68px;
        margin-left: auto;
        flex-shrink: 0;
        display: block;
        img {
            border-radius: 50%;
        }
    }
    .embed-icon {
        width: 34px;
        height: 34px;
        margin-left: auto;
        flex-shrink: 0;
        display: block;
        align-items: flex-start;
        svg {
            position: relative;
            top: 5px;
            max-width: 100%;
            max-height: 100%;
            * {
                @include fill($theme-color-midnight-400);
            }
        }
        .icon-embed-source-spotify,
        .icon-embed-source-kickstarter {
            top: 2px;
        }
        .favicon-wrap {
            display: none;
        }
    }
    &.embed-type-default {
        cursor: pointer;
        .embed-icon {
            width: 20px;
            svg {
                display: none;
            }
            .favicon-wrap {
                display: flex;
            }
        }
    }
    &.embed-type-rich .embed-profile {
        border-radius: 8px;
    }
    &.embed-type-rich {
        max-width: 300px;
        .image-wrap {
            padding-top: 100%;
        }
    }
    .embed-duration {
        display: none;
        position: absolute;
        right: 16px;
        bottom: 16px;
        text-align: right;
        padding: 8px;
        line-height: 1;
        border-radius: 8px;
        z-index: 1;
        font-weight: bold !important;
        background-color: rgba(black, .3);
        backdrop-filter: blur(8px);
        @include font-size(14);
        @include color($theme-color-midnight-700);
    }
    .play-button {
        display: none;
        width: 70px;
        height: 39px;
        background-color: rgba(black, .3);
        backdrop-filter: blur(8px);
        border-radius: 4px;
        position: absolute;
        margin: auto;
        left: 0;
        right: 0;
        bottom: 0;
        top: 0;
        z-index: 100;
        pointer-events: none;
        .play-button-inner {
            width: 20px;
            height: 20px;
            position: absolute;
            margin: auto;
            left: 0;
            right: 0;
            bottom: 0;
            top: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            svg {
                position: absolute;
                max-width: 100%;
                max-height: 100%;
                fill: white;
            }
        }
    }
    &.embed-type-video {
        .image-wrap {
            display: block;
            padding-top: 56.25%;
        }
        &:not(.loaded) .embed-duration {
            display: inline-block;
        }
        &:not(.loaded) .image-wrap:hover .play-button {
            display: block;
            .touch & {
                display: none;
            }
        }
    }
    .embed-title {
        font-weight: bold !important;
        @include font-size(14);
        display: block;
        @include color($theme-color-midnight-700);
    }
    .embed-subhead {
        @include font-size(14);
        display: block;
        @include color($theme-color-midnight-700);
    }
    .embed-subtitle {
        @include font-size(14);
        display: block;
        @include color($theme-color-midnight-500);
    }

}

.entry-final-content a, .tweet-text a, .micropost-text a, .modal-content .content-styles a {
    text-decoration: underline;
    -webkit-tap-highlight-color: rgba(0,0,0,0.2);
    @include color($color-contrast-700);
    &:hover {
        @include color($color-hover);
    }
}

.font-serif-1 {
    .content-styles {
        font-family: "Sentinel SSm A", "Sentinel SSm B", $font-stack;
        font-weight: 400;
        font-style: normal;
        strong {
            font-weight: 700;
        }
        em {
            font-style: italic;
        }
        .post-meta {
            font-family: $font-stack;
            font-weight: 400;
        }
    }
    .entry-header h1 {
        font-family: "Sentinel SSm A", "Sentinel SSm B", $font-stack;
        font-weight: 400;
    }
}

.font-serif-2 {
    .content-styles {
        font-family: "Mercury SSm A", "Mercury SSm B", $font-stack;
        font-weight: 300;
        font-style: normal;
        strong {
            font-weight: 500;
        }
        em {
            font-style: italic;
        }
        .post-meta {
            font-family: $font-stack;
            font-weight: 400;
        }
        h1, h2, h3, h4, h5, h6 {
            font-weight: 700;
            font-family: "Whitney SSm A", "Whitney SSm B", $font-stack;
            strong {
                font-weight: 700;
            }
        }
    }
    .entry-header h1 {
        font-weight: 700;
        font-family: "Whitney SSm A", "Whitney SSm B", $font-stack;
    }
}

.font-serif-3 {
    .content-styles {
        font-family: Georgia, $font-stack;
        font-weight: 400;
        font-style: normal;
        strong {
            font-weight: 700;
        }
        em {
            font-style: italic;
        }
        .post-meta {
            font-family: $font-stack;
            font-weight: 400;
        }
    }
    .entry-header h1 {
        font-weight: 400;
        font-family: Georgia, $font-stack;
    }
}

.font-sans-serif-1 {
    .content-styles {
        font-family: "Whitney SSm A", "Whitney SSm B", $font-stack;
        font-weight: 400;
        font-style: normal;
        strong {
            font-weight: 700;
        }
        em {
            font-style: italic;
        }
    }
    .entry-header h1 {
        font-family: "Whitney SSm A", "Whitney SSm B", $font-stack;
        font-weight: 700;
    }
}

.font-sans-serif-2 {
    .content-styles {
        font-family: "Ideal Sans A", "Ideal Sans B", $font-stack;
        font-weight: 300;
        font-style: normal;
        strong {
            font-weight: 600;
        }
        em {
            font-style: italic;
        }
    }
    .entry-header h1 {
        font-family: "Ideal Sans A", "Ideal Sans B", $font-stack;
        font-weight: 600;
    }
}

.font-size-0 {
    font-size: 70%;/*11px*/
}
.font-size-1 {
    font-size: 77%;/*12px*/
}
.font-size-2 {
    font-size: 83%;/*13px*/
}
.font-size-3 {
    font-size: 90%;/*14px*/
}
.font-size-4 {
    font-size: 96%;/*15px*/
}
.font-size-5 {
    font-size: 100%;/*16px*/
}
.font-size-6 {
    font-size: 110%;/*18px*/
}
.font-size-7 {
    font-size: 123%;/*20px*/
}
.font-size-8 {
    font-size: 135%;/*22px*/
}
.font-size-9 {
    font-size: 147%;/*24px*/
}

.content-styles {
    .system-content,
    .system-content h1 {
        font-family: $font-stack;
        font-weight: normal;
        a {
            text-decoration: none;
            position: static;
        }
        img {
            max-width: unset;
            width: auto;
        }
    }
}

.content-styles img, img.responsive {
    max-width: 100%;
    display: block;
    height: auto;
    margin: 0 0 10px 0;
    vertical-align: middle;
    &[align="left"] {
        float: none;
    }
    &[align="right"] {
        float: none;
    }
    &.hide {
        display: none;
    }
}

.inline-diff {

    ins {
        background: #C1EAD1;
        color: #022F14;
        a {
            color: #022F14;
        }
    }

    ins, .diff-ins {
        text-decoration: none;
    }

    ins a, .diff-ins a, a.diff-ins {
        text-decoration: underline;
    }

    img.diff-ins, code.diff-ins {
        border: 2px solid #C1EAD1;
    }

    del {
        background: #EEC2CB;
        color: #33030D;
        a {
            color: #33030D;
        }
        img {
            opacity: .5;
        }
        text-decoration: line-through;
    }

    img.diff-del, code.diff-del {
        border: 2px solid #EEC2CB;
    }

    img.diff-del {
        opacity: .5;
    }

}

.radio input {
    margin-top: 2px;
}

.tweet-wrap {
    .tweet-mentions {
        @include font-size(14);
        @include color($color-contrast-500);
        margin-bottom: 10px;
        a {
            @include color($color-contrast-500);
        }
    }
    .tweet-header {
        margin-bottom: .6em;
        position: relative;
        .profile-wrap {
            display: flex;
            align-items: center;
            position: relative;
            a {
                border-bottom: none;
                background: none;
                &:hover {
                    border-bottom: none;
                }
            }
        }
        .profile-info {
            flex-grow: 1;
            min-width: 0;
        }
        .profile-image-wrap {
            margin-right: 8px;
            line-height: 1;
            flex-shrink: 0;
        }
        .author-profile-wrap {
            position: relative;
        }
        .author-profile {
            z-index: 10000;
            width: 304px;
            @include background-color($color-base-alt);
            @include border($color-borders);
            box-shadow: $box-shadow-dropdown;
            border-radius: 8px;
            position: absolute;
            top: 47px;
            left: 0;
            transition: opacity .2s ease-in;
            overflow: hidden;
            .author-profile-inner {
                padding: 0 base-units(2) base-units(2) base-units(2);
                margin-top: base-units(-5);
                transition: .05s ease-in margin;
                @media (max-height: 768px) {
                    margin-top: base-units(-7);
                }
            }
            .profile-banner {
                position: relative;
                height: 100px;
                @include background-color($color-contrast-200);
                img {
                    width: 100%;
                }
            }
            .profile-info h1 {
                @include font-size(16);
                svg {
                    margin-left: 2px;
                    position: relative;
                    top: 5px;
                }
            }
            .profile-image-wrap {
                margin-right: 8px;
                line-height: 1;
                flex-shrink: 0;
            }
            .profile-image {
                position: relative;
                svg {
                    position: absolute;
                    bottom: 0;
                    right: -5px;
                }
            }
            .profile-meta-wrap {
                display: flex;
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
            }
            .profile-meta {
                @include font-size(14);
                @include color($color-contrast-500);
                margin-right: 16px;
                display: flex;
                align-items: center;
                overflow: hidden;
                svg {
                    flex-shrink: 0;
                    margin-right: 4px;
                    @include fill($color-icons);
                }
                span, time {
                    overflow: hidden;
                    text-overflow: ellipsis;
                    white-space: nowrap;
                    display: block;
                }
                strong {
                    @include color($color-contrast-600);
                    margin-right: 4px;
                }
                &.joined {
                    flex-shrink: 0;
                }
                .calendar-icon {
                    flex-shrink: 0;
                    margin-right: 4px;
                    position: relative;
                    width: 15px;
                    height: 16px;
                    overflow: visible;
                    svg {
                        margin: 0;
                    }
                    .icon-calendar {
                        position: absolute;
                        top: 0;
                        left: 0;
                    }
                    .date {
                        overflow: visible;
                        position: absolute;
                        width: 7px;
                        height: 5px;
                        display: flex;
                        justify-content: center;
                        top: 8px;
                        left: 4px;
                        svg {
                            margin: 0;
                            &:nth-child(2n) {
                                margin-left: 1px
                            }
                        }
                    }
                }
            }
            &.show {
                opacity: 1;
            }
            .profile-image {
                margin-right: 0;
                margin-bottom: 16px;
            }
            .tweet-text {
                white-space: normal;
                @include font-size(15);
                &:last-child {
                    margin-bottom: 0;
                }
            }
            .profile-wrap {
                display: flex;
                justify-content: center;
            }
            .tweet-body {
                .modal & {
                    padding-left: 0;
                }
            }
        }
        h1 {
            @include font-size(18);
            margin: 0;
            margin: 0 0 .2em 0;
            display: flex;
            align-items: baseline;
            line-height: 1.2;
            flex-grow: 1;
            .link {
                font-weight: normal;
                @include color($color-contrast-500);
                text-decoration: none;
                background: none;
                display: block;
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
                strong {
                    font-weight: bold;
                    @include color($color-contrast-700);
                }
            }
        }
        .profile-image img {
            margin: 0;
            $size: 47px;
            border: 2px solid white;
            border-radius: 50%;
            height: $size;
            width: $size;
            box-shadow: 0px 1px 1px 0px rgba(0, 0, 0, 0.1);
            .theme-day & {
                box-shadow: none;
            }
            &.large {
                height: auto;
                width: 100%;
                max-height: 270px;
                object-fit: cover;
                box-shadow: 0px 0px 10px 1px rgba(0, 0, 0, 0.1);
                transition: .1s ease-out width;
                .theme-day & {
                    box-shadow: 0px 0px 10px 1px rgba(0, 0, 0, 0.1);
                }
                @media (max-height: 768px) {
                    width: 50%;
                }
            }
        }
        .tweet-actions {
            display: flex;
            align-items: baseline;
            margin-left: auto;
            .tweet-link svg, .twitter-conversation-link svg {
                @include fill($color-icons);
            }
            .tweet-link {
                padding-left: 15px;
                display: block;
                svg {
                    width: 18px;
                    height: 15px;
                }
            }
            .twitter-conversation-link {
                bottom: -2px;
                position: relative;
                padding-left: 15px;
                svg {
                    width: 18px;
                    height: 18px;
                }
            }
        }
    }
    .tweet-body img {
        max-width: 100%;
    }
    .entry-header {
        font-size: 1.15em;
        h1 {
            font-size: 1.3em;
            line-height: 1.2;
        }
    }
    .tweet-meta {
        @include font-size(16);
        @include color($color-contrast-500);
        img {
            position: relative;
            border-radius: 16px;
            margin-right: 8px;
        }
        a {
            display: flex;
            align-items: center;
            @include color($color-contrast-500);
            text-decoration: none;
        }
    }
    .new-section {
        position: relative;
        margin-bottom: .4em;
        display: flex;
        align-items: center;
        .favicon-wrap {
            margin-right: 8px;
            position: static;
        }
    }
    .tweet-text {
        white-space: pre-wrap;
        font-size: 1.15em;
        line-height: 1.4;
        @include color($color-contrast-600);
        font-family: $font-stack;
        overflow-wrap: break-word;
        margin: 1.1em 0 1.1em 0;
    }
    .micropost-text {
        line-height: 1.4;
        font-family: $font-stack;
        font-weight: normal;
    }
    .header-time {
        display: none;
    }
    .main-tweet-conversation {
        .twitter-conversation-link {
            display: none;
        }
    }
    .quoted-tweet {
        margin-bottom: 1.1em;
        padding: 14px 16px;
        border-radius: 4px;
        @include border($color-borders);
        .twitter-conversation-link {
            display: none;
        }
        .tweet-link:not(.embed) {
            display: none !important;
        }
        p:last-child {
            margin-bottom: 0;
        }
    }
    &.profile {
        .profile-info {
            strong {
                display: block;
            }
        }
    }
}

.modal-purpose-conversation {
    .twitter-conversation-link {
        display: none;
    }
    .tweet-body {
        padding-left: 57px;
        @media (max-width: $small-breakpoint) {
            padding-left: 0;
        }
    }
    .main-tweet-conversation .quoted-tweet .tweet-body {
        padding-left: 0;
    }
    .micropost-wrap {
        margin-top: 0;
    }
    .micropost-text p:first-child {
        margin-top: 0;
    }
    .micropost {
        margin-bottom: 1.1em;
    }
    .micropost + .micropost, .reply {
        padding-top: 1.1em;
        @include border-top($color-borders);
    }
    .tweet-author-reply {
        border-top: none !important;
        padding-top: 0 !important;
    }
    .reply {
        .tweet-mentions, .tweet-link {
            display: none !important;
        }
    }
}

.entry-column.wide {
    .entry-main-tweet {
        .profile-image-wrap {
            position: absolute;
            left: -60px;
            .fluid &, .fluid-1 & {
                position: static;
            }
        }
    }
    .new-section {
        position: relative;
        .favicon-wrap {
            position: absolute;
            top: -2px;
            left: -30px;
            .fluid &, .fluid-1 & {
                position: static;
            }
        }
    }
}

.notification {
    $height: 48px;
    z-index: 10000;
    width: 100%;
    position: fixed;
    align-items: center;
    justify-content: center;
    display: flex;
    visibility: visible;
    padding: 0 8px;
    bottom: -$height;
    .notification-content-wrap {
        display: flex;
        align-items: center;
        @include background-color($color-base-dark-700);
        min-width: 350px;
        border-radius: 4px;
        height: $height;
        opacity: 0;
        transition: transform .2s cubic-bezier(0.18, 0.89, 0.32, 1.28), opacity .2s ease-in;
        box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.15);
        @media (max-width: $small-breakpoint) {
            min-width: 100%;
            max-width: 100%;
        }
    }
    &.visible {
        .notification-content-wrap {
            transform: translateY(-100px);
            opacity: 1;
        }
    }
    &.fade-out {
        .notification-content-wrap {
            opacity: 0;
        }
    }
    &.hide {
        display: flex;
        visibility: hidden;
    }
    .notification-content {
        font-size: 16px;
        white-space: nowrap;
        color: white;
        text-overflow: ellipsis;
        overflow: hidden;
    }
    .icon-container {
        height: $height;
        width: $height;
        display: flex;
        align-items: center;
        justify-content: center;
        flex: 0 0 auto;
        &:last-child {
            margin-left: auto;
        }
    }
    .icon-error-message {
        display: none;
    }
    &.error {
        .icon-success-message {
            display: none;
        }
        .icon-error-message {
            display: block;
        }
    }
    .icon-close {
        @include fill($color-contrast-400);
    }
    @media (max-width: $small-breakpoint) {
        bottom: unset;
        top: -$height;
        &.visible {
            .notification-content-wrap {
                transform: translateY($height + 8);
            }
        }
    }
    .native & {
        bottom: unset;
        top: -$height;
        &.visible {
            .notification-content-wrap {
                transform: translateY($height + 8);
            }
        }
    }
}

.jump-search-empty {
    .modal-purpose-search {
        .modal-body {
            display: none;
        }
        .modal-header-input input {
            border-radius: 8px;
        }
    }
}
.modal-purpose-search {
    .modal-body {
        overflow-y: scroll;
        max-height: 60vh;
    }
    li.feed-link, li.source-section {
        padding-left: 16px;
    }
    .feed-link {
        cursor: pointer;
    }
    li.selected {
        @include background-color($color-selected);
        color: white !important;
    }
    .feed-list {
        padding-bottom: 22px;
    }
}
.jump-options {
    list-style: none;
    margin: 0;
    padding: 0;
    li {
        padding-left: 16px;
    }
}

.content-option {
    margin-top: 1.1em;
}

.newsletter {
    max-width: 100%;
    background-color: white;
    overflow: hidden;
    box-shadow: 1px 1px 6px rgba(0, 0, 0, 0.1);;
    display: flex;
    justify-content: center;
}

.content-option-switch {
    display: flex;
    align-items: center;
    [class^="favicon"] {
        margin-right: 8px;
        @include fill($color-contrast-400);
    }
    .switch {
        margin-left: auto;
        position: static;
    }
}

.extract-active .content-option-form {
    display: none;
}

.newsletter-content-option-form {
    display: none;
    .shadow-dom & {
        display: block;
    }
}

/*------------------------------------------------------------------------------
Settings
------------------------------------------------------------------------------*/

.logo-full {
    @include fill($color-contrast-700);
    $color-full-logo-foreground: (
        debug:    color-logo-foreground,
        day:      $theme-color-700,
        sunset:   $theme-color-sunset-700,
        dusk:     $theme-color-dusk-base,
        midnight: $theme-color-midnight-base,
    );
    $color-full-logo-background: (
        debug:    color-logo-foreground,
        day:      transparent,
        sunset:   transparent,
        dusk:     $theme-color-dusk-700,
        midnight: $theme-color-midnight-700,
    );
    #logo_foreground {
        @include fill($color-full-logo-foreground);
    }
    #logo_background {
        @include fill($color-full-logo-background);
    }
}

.content-inner {
    margin-top: 20px;
    padding: 4px 20px 12px 20px;
    background-color: white;
    border: 1px solid map-get($color-borders, day);
    border-radius: 4px;
}

.settings-nav {
    flex-direction: column;
    width: 310px;
    @include background-color($color-sidebar);
    @include border-right(map-merge($color-borders, (day: transparent, sunset: transparent)));
    .logo {
        padding: 39px 0 0 base-units(3);
        display: block;
        svg {
            width: 140px;
            height: 38px;
        }
    }
    .modal & {
        width: 100%;
        display: block;
        border: none;
        @include background-color($color-base);
        .logo {
            display: none;
        }
    }
}

.desktop-hide {
    display: block;
    @include respond-to(screen-sm) {
        display: none;
    }
}

.settings-nav {
    display: none;
	@media (min-width: 700px) {
        display: flex;
	}
}

.nav {
    margin: 0 0 0 0;
    padding: 0;
    list-style: none;
    li {
        margin-bottom: 4px;
    }
    .nav-header {
        font-weight: bold;
        display: flex;
        align-items: center;
        margin: 16px 0;
    }
    .menu-text {
        display: flex;
        flex-direction: column;
        .title {
            @include font-size(16);
        }
        .subtitle {
            margin-top: 4px;
            @include font-size(14);
            @include color($color-contrast-500);
        }
    }
    .icon-wrap {
        width: 16px;
        height: 17px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        margin-right: base-units(1);
        svg {
            @include fill($color-icons);
        }
    }
    a, button {
        appearance: none;
        border: 0;
        background-color: transparent;
        display: flex;
        text-align: left;
        padding: base-units(1);
        border-radius: 4px;
        @include color($color-contrast-700);
        &:hover {
            text-decoration: none;
            @include background-color($color-contrast-200);
        }
        &.active {
            @include background-color($color-selected);
            @include color(white);
            .title {
                @include color(white);
            }
            .subtitle {
                @include color($color-selected-muted);
            }
            .icon-wrap {
                svg {
                    @include fill(white);
                }
            }
        }
        body.touch &:hover {
            background-color: transparent !important;
        }
    }
    .log-out {
        display: none;
    }
    .settings & {
        padding: 0 base-units(3);
        .nav-header {
            @include color($color-contrast-700);
            margin: base-units(4) 0 base-units(2) 0;
        }
        .icon-wrap {
            svg {
                @include fill($color-contrast-600);
            }
        }
    }
    .modal & {
        a {
            @include color($color-contrast-700);
        }
    }
}

.nav-small {
    position: relative;
    padding-top: 32px !important;
    margin: 32px 0 0 0;
    li {
        margin: 0;
    }
    a {
        @include font-size(14);
        padding-left: base-units(4);
        &:hover span {
            background-color: transparent;
        }
        .settings-inner & {
            @include color($color-contrast-500);
            &:hover {
                @include color($color-contrast-600);
            }
        }
    }
    &.border {
        &:before {
            content: "";
            display: block;
            position: absolute;
            height: 1px;
            left: 38px;
            right: 38px;
            top: 0;
            @include background-color($color-borders);
        }
    }
    .settings-inner & {
        &.border {
            &:before {
                @include background-color($color-borders);
            }
        }
    }
}

.settings-button-wrap {
    display: flex;
    .subscribe-toolbar & {
        display: none;
        .has-offscreen-panels & {
            display: flex;
        }
    }
    .app-settings-button {
        display: none;
        .native & {
            display: flex;
        }
    }
    .web-settings-button {
        display: flex;
        .dropdown-content {
            top: $toolbar-height - 6;
            right: 8px !important;
        }
        .native & {
            display: none;
        }
    }
    .has-offscreen-panels .entry-toolbar &, .has-offscreen-panels .account-toolbar & {
        display: none;
    }
    .nav-header {
        display: none;
    }
    .nav-small {
        display: none;
    }
    li.border {
        margin-top: base-units(1);
        padding-top: base-units(1);
        position: relative;
        &:before {
            content: "";
            display: block;
            position: absolute;
            height: 1px;
            top: 0;
            left: base-units(5);
            right: base-units(1);
            @include background-color($color-borders);
        }
    }
    .log-out {
        display: block;
    }
}

.settings {
    @include color($color-contrast-600);
    font-size: 16px;
    height: 100%;
    p {
        line-height: 1.6;
    }
    small {
        font-size: 13px;
        @include color($color-contrast-500);
    }
    code {
        padding: 0;
    }
    h2 {
        margin: 42px 0 32px 0;
        font-size: 24px;
        font-weight: bold;
        @include color($color-contrast-700);
        -webkit-font-smoothing: antialiased;
        @media (max-width: $small-breakpoint) {
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
            margin-right: 42px;
        }

    }
    h3 {
        font-size: 18px;
        margin: 18px 0 15px 0;
        &.no-margin {
            margin-bottom: 0;
        }
    }
    .starred-feed-wrap {
        width: 100%;
        max-width: 480px;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        .input-group {
            flex: 1;
        }
    }
    .toolbar {
        display: flex;
        flex: 1;
        align-items: center;
        > :first-child {
            margin-right: 32px
        }
        .last-control {
            display: flex;
            align-items: center;
            margin-left: auto;
        }
        @media (max-width: $small-breakpoint) {
            flex-direction: column;
            align-items: stretch;
            .last-control {
                margin-left: unset;
                margin-top: 16px;
            }
            &.row {
                flex-direction: row;
                .last-control {
                    margin-left: auto;
                    margin-top: unset;
                    align-items: center;
                }
            }
        }
    }
    .settings-inner {
        display: flex;
        flex: 1;
        align-items: stretch;
        min-height: 100%;
    }
    .settings-inner .settings-nav {
        flex-shrink: 0;
    }
    .settings-content {
        position: relative;
        padding: 0;
        @include background-color($color-base);
        flex-grow: 1;
        max-width: 100%;
        min-width: 0;
        .settings-content-inner {
            max-width: 700px;
            padding: 0 20px 0 37px;
            @media (max-width: $small-breakpoint) {
                padding: 0 8px;
            }
        }
        a {
            text-decoration: underline;
        }
    }
    .alert {
        margin-top: 20px;
    }
    .input-wrap {
        position: relative;
        flex: 1;
        padding-right: 20px;
        display: flex;
        input {
            flex: 1;
            width: 100%;
            max-width: 100%;
            margin: 0;
        }
    }
    .subscription-title-wrap {
        display: flex;
        align-items: center;
        margin-bottom: 5px;
        .field-wrap {
            position: relative;
            flex: 1;
            padding-right: 20px;
        }
        .favicon-wrap {
            position: absolute;
            right: 21px;
            top: 0;
            bottom: 0;
            width: 50px;
            box-shadow: none;
            display: flex;
            background-color: transparent;
            height: auto;
            @media (max-width: $small-breakpoint) {
                display: none;
            }
        }
    }
    .subscription-title {
        position: relative;
        margin: 0;
        font-size: 18px !important;
        line-height: 18px !important;
        padding: 12px 14px !important;
        font-weight: bold;
        width: 100%;
        max-width: 100%;
        padding-right: 50px !important;
        border-radius: 8px;
        @media (max-width: $small-breakpoint) {
            padding-right: 10px !important;
        }
    }
    h4 {
        font-size: 18px;
        margin: 0 0 16px 0;
    }
    h4.group-header {
        font-size: 16px;
        @include color($color-contrast-700);
    }
    h3.box-header {
        margin: 0;
    }
    .subscribe-email {
        word-break: break-all;
    }
    .add-field {
        position: absolute;
        right: 30px;
        top: 2px;
    }
    .delete-subscription {
        position: absolute;
        right: -100px;
        top: 14px;
        @media (max-width: 990px) {
            display: none;
        }
    }
    input[name="user[theme]"] + label {
        padding-left: 50px;
        @media (max-width: $small-breakpoint) {
            padding-left: 35px;
        }
    }
    .color-preview {
        content: "";
        display: block;
        height: 16px;
        width: 16px;
        position: absolute;
        left: 28px;
        top: 15px;
        @media (max-width: $small-breakpoint) {
            left: 15px;
        }
    }
    .color-preview-day {
        background-color: map-get($color-base, day);
        border: 1px solid map-get($color-borders, day);
    }
    .color-preview-sunset {
        background-color: map-get($color-base, sunset);
        border: 1px solid map-get($color-borders, sunset);
    }
    .color-preview-dusk {
        background-color: map-get($color-base, dusk);
        border: 1px solid map-get($color-borders, dusk);
    }
    .color-preview-midnight {
        background-color: map-get($color-base, midnight);
        border: 1px solid map-get($color-borders, midnight);
    }
    .theme-day {
        .theme-button-day {
            background-color: white;
            @include border-color($color-selected);
        }
    }
    .theme-sunset {
        .theme-button-sunset {
            background-color: white;
            @include border-color($color-selected);
        }
    }
    .theme-dusk {
        .theme-button-dusk {
            background-color: white;
            @include border-color($color-selected);
        }
    }
    .theme-background {
        padding: 16px;
        @include background-color($color-contrast-100);
        border-radius: 4px;
    }
    .preview-group {
        z-index: 1000;
        margin-bottom: 30px;
        top: 0;
        position: sticky;
        @include background-color($color-base);
        .control-group {
            margin-bottom: 0;
        }
    }
    .entries-wrap {
        display: flex;
        align-items: center;
        height: 100%;
        .entries {
            position: static;
            margin-left: auto;
            margin-right: auto;
        }
        .entries ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }
        .entries ul li .entries-inner-wrap {
            border: none;
        }
        .entries ul li {
            font-size: 12px;
            .feed-title,
            .time,
            .body {
                font-size: 100%;
            }
            .title {
                font-size: 116.6%;
            }
            .title {
                position: relative;
            }
        }
    }
    .entries-display-block .entries {
        max-width: 380px !important;
    }
    .entries-display-inline .entries {
        max-width: 100%;
    }
    .theme-day {
        .entries {
            border: 1px solid map-get($color-borders, day);
            box-shadow: 4px 4px 0 -2px map-get($color-contrast-200, day);
        }
    }
    .theme-sunset {
        .entries {
            border: 1px solid map-get($color-borders, sunset);
            box-shadow: 4px 4px 0 -2px map-get($color-contrast-200, sunset);
        }
    }
    .theme-dusk {
        .entries {
            border: 1px solid map-get($color-borders, dusk);
            box-shadow: 4px 4px 0 -2px black;
        }
    }
    .theme-midnight {
        .entries {
            border: 1px solid map-get($color-borders, midnight);
            box-shadow: 4px 4px 0 -2px black;
        }
    }
    .feed-settings {
        display: flex;
        margin: 24px 0 24px;
        h2 {
            flex-grow: 1;
            margin: 0;
        }
        @media (max-width: $small-breakpoint) {
            h2 {
                margin-bottom: 15px;
            }
            flex-direction: column;
            .feed-search {
                width: 100%;
            }
        }
    }
    .feed-search {
        max-width: 250px;
        &.processing {
            background-image: none;
        }
    }
    .feed-controls-wrap {
        position: sticky;
        top: -6px;
        z-index: 1001;
    }
    .feed-controls {
        display: flex;
        border-radius: 8px 8px 0 0;
        @include background-color($color-base);
        @include border($color-borders);
        padding: 16px;
        @media (max-width: $small-breakpoint) {
            padding: 16px 0;
            border-radius: 0;
            border-left: none;
            border-right: none;
        }
    }
    .select-all-wrap {
        @include border($color-borders);
        @include background-color($color-base);
        border-top: none;
        padding: 16px;
        @media (max-width: $small-breakpoint) {
            padding: 16px 0;
            border-left: none;
            border-right: none;
        }
    }
    .feed-actions {
        flex-grow: 1;
        .checkbox {
            flex-shrink: 0;
        }
    }
    .select-all-wrap, .feed-actions {
        .checkbox input {
            margin-right: 16px !important;
            @media (max-width: $small-breakpoint) {
                margin-right: 8px !important;
            }
        }
    }
    .feed-dropdown {
        display: inline-block;
        .dropdown-content {
            width: 215px;
            top: 25px;
            left: -81px;
            @media (max-width: $small-breakpoint) {
                left: -10px;
                li:first-child:after {
                    left: 15px;
                    margin: 0;
                }
                li:first-child:before {
                    left: 14px;
                    margin: 0;
                }
            }
        }
        &.dropdown-right .dropdown-content {
            @media (max-width: $small-breakpoint) {
                left: -100px;
                li:first-child:after {
                    left: 175px;
                    margin: 0;
                }
                li:first-child:before {
                    left: 174px;
                    margin: 0;
                }
            }
        }
    }
    .feed-list-toolbar-button {
        @include color($color-selected);
        appearance: none;
        background: transparent;
        padding: 0;
        border: none;
        display: inline-block;
        &.button-caret {
            color: black;
            position: relative;
            padding-right: 15px;
            &:before {
                top: 7px;
                right: 0;
                display: block;
                position: absolute;
                content: "";
                width: 0;
                height: 0;
                border-left: 5px solid transparent;
                border-right: 5px solid transparent;
                border-top: 5px solid black;
            }
        }
        &.no-margin {
            margin: 0;
        }
    }
    .feed-profile {
        .profile-header {
            position: relative;
            padding-left: 25px;
        }
        h3 {
            font-size: 24px;
            margin: 0;
            span {
                font-weight: normal;
                @include color($color-contrast-500);
            }
            a {
                color: map-get($color-contrast-700, day);
                @include color($color-contrast-700);
                &:hover {
                    text-decoration: none;
                }
            }
        }
        .subhead {
            font-size: 12px;
            margin: 0 0 20px 0;
            a {
                text-overflow: ellipsis;
                overflow: hidden;
                white-space: nowrap;
                display: block;
            }
            a, a:hover {
                color: map-get($color-contrast-500, day);
            }
            a:hover {
                text-decoration: none;
                span {
                    text-decoration: underline;
                }
            }
        }
        .chart-wrap {
            line-height: 1;
            display: flex;
            margin-bottom: 32px;
            padding: 0 0 21px 0;
            .graph-wrap {
                flex: 1 1 auto;
                padding-top: 20%;
                @include border-bottom($color-borders);
                margin-right: 5px;
                position: relative;
                .graph-lines {
                    display: flex;
                    flex: 0 0 auto;
                    flex-direction: column;
                    justify-content: space-between;
                    text-align: right;
                    position: absolute;
                    top: 0;
                    left: 0;
                    bottom: 2px;
                    right: 0;
                    div {
                        width: 100%;
                        @include border-top($color-contrast-200);
                        border-top-style: dashed;
                        &:last-child {
                            visibility: hidden;
                        }
                    }
                }
                .graph {
                    display: flex;
                    align-items: stretch;
                    flex-wrap: nowrap;
                    position: absolute;
                    top: 0;
                    left: 0;
                    bottom: 2px;
                    right: 0;
                    .bar-sleeve {
                        flex-wrap: nowrap;
                        display: flex;
                        align-items: flex-end;
                        flex: 1;
                        &:first-child .bar {
                            margin: 0;
                        }
                    }
                    .bar {
                        margin-left: 2px;
                        content: "";
                        flex: 1;
                        background-color: $color-accent-green-600;
                        min-height: 1px;
                        border-radius: 2px 2px 0 0;
                        &.zero {
                            border-radius: 0;
                        }
                    }
                }
            }
            .tooltip-large {
                position: absolute;
                top: 10px;
                left: 10px;
                @include background-color($color-contrast-100);
                @include border($color-borders);
                padding: 0.5rem;
                font-size: to_rem(10);
                border-radius: 3px;
                white-space: nowrap;
                opacity: 1;
                transition: opacity .2s ease;
                &:after {
                    width: 0;
                    height: 0;
                    border: 0 solid transparent;
                    border-left-width: 3px;
                    border-right-width: 3px;
                    border-top-width: 3px;
                    @include theme("border-top-color", $color-contrast-100);
                    content: "";
                    display: block;
                    position: absolute;
                    bottom: -3px;
                    left: 14px;
                }
                &:before {
                    width: 0;
                    height: 0;
                    border: 0 solid transparent;
                    border-left-width: 4px;
                    border-right-width: 4px;
                    border-top-width: 4px;
                    @include theme("border-top-color", $color-borders);
                    content: "";
                    display: block;
                    position: absolute;
                    bottom: -4px;
                    left: 13px;
                }
                &.right {
                    &:after {
                        right: 10px;
                        left: auto;
                    }
                    &:before {
                        right: 9px;
                        left: auto;
                    }
                }
                &.hide {
                    opacity: 0;
                }
                .date {
                    text-transform: uppercase;
                    @include color($color-contrast-500);
                    margin-bottom: .25rem;
                }
                .count {
                    @include color($color-contrast-600);
                    font-weight: bold;
                }
            }
        }
        .y-axis {
            display: flex;
            flex: 0 0 auto;
            flex-direction: column;
            justify-content: space-between;
            text-align: right;
            div {
                position: relative;
                &:nth-child(1n) {
                    top: -5px;
                }
                &:nth-child(2n) {
                    top: -3px;
                }
                &:nth-child(3n) {
                    top: -1px;
                }
                &:nth-child(4n) {
                    top: 1px;
                }
                &:nth-child(5n) {
                    top: 3px;
                }
            }
        }
        .x-axis {
            position: absolute;
            right: 0;
            left: 0;
            bottom: -18px;
            justify-content: space-between;
            display: flex;
        }
        .x-axis, .y-axis {
            @include color($color-contrast-400);
            font-size: 12px;
        }
        .stats td {
            max-width: 100px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        .profile-images {
            .image {
                margin-right: 5px;
                max-width: 22%;
                width: auto;
                float: left;
                margin-bottom: 5px;
            }
        }
    }
    .feed-form {
        border-radius: 0 0 8px 8px;
        border-top: none;
        @media (max-width: $small-breakpoint) {
            border-radius: 0;
        }
        li {
            position: relative;
            padding: 0;
        }
        .feeds-wrap {
            position: relative;
        }
        .checkbox {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            display: flex;
            align-items: flex-start;
            padding: 0;
            left: 0;
            top: 0;
            bottom: 0;
            width: 40px;
            label {
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                $top: 23px;
                &:before {
                    top: $top;
                    left: 16px;
                }
                &:after {
                    top: $top;
                    left: 11px;
                }
                svg {
                    top: $top;
                    left: 19px;
                }
                z-index: 10;
            }
            @media (max-width: $small-breakpoint) {
                width: 24px;
                label {
                    &:before {
                        top: 22px;
                        left: 4px;
                    }
                    &:after {
                        top: 22px;
                        left: 0px;
                    }
                    svg {
                        top: 22px;
                        left: 7px;
                    }
                }
            }
        }
        .subscription-link {
            display: flex;
            flex: 1;
            justify-content: space-between;
            @include color($color-contrast-700);
            padding: 13px 16px 13px 8px;
            align-items: center;
            margin-left: 40px;
            text-decoration: none;
            &:hover {
                text-decoration: none;
            }
            @media (max-width: $small-breakpoint) {
                margin-left: 22px;
                padding-right: 0;
            }
        }
        .subscription-data-wrap {
            display: flex;
            min-width: 0;
            flex-direction: column;
            margin-right: 16px;
        }
        .subscription-data {
            display: flex;
            align-items: center;
            min-width: 0;
        }
        .subscription-controls {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            flex-shrink: 0;
            .icon-wrap {
                transform: rotate(270deg);
                display: flex;
                width: 15px;
            }
            .icon-caret {
                @include fill($color-contrast-300);
            }
        }
        .favicon-container {
            display: block;
            height: 20px;
            width: 20px;
            margin-right: 8px;
            .favicon-wrap {
                left: 0;
                box-shadow: none;
            }
        }
        .text-wrap {
            display: flex;
            align-items: baseline;
            min-width: 0;
        }
        .title-container {
            display: block;
            margin-right: 8px;
            display: block;
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
        }
        .last-updated-wrap {
            margin-right: 8px;
            white-space: nowrap;
            @media (max-width:800px) {
                display: none;
            }
        }
        .last-updated-wrap, .subscription-meta {
            @include font-size(14);
            @include color($color-contrast-500);
        }
        .subscription-meta {
            min-width: 0;
            margin-left: 28px;
            display: flex;
            .feed-url-wrap {
                display: block;
                text-overflow: ellipsis;
                overflow: hidden;
                white-space: nowrap;
                flex-shrink: 1;
            }
        }
        .subscription-item {
            margin-right: 10px;
        }
    }
    .subscription-pill {
        align-items: center;
        margin-bottom: 32px;
        .favicon-wrap {
            flex-shrink: 0;
            margin-right: 8px;
        }
        h4 {
            flex: 1;
            margin: 0 !important;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;

        }
        .twitter-profile-image, .twitter-profile-image img {
            width: 32px;
            height: 32px;
            border-radius: 32px;
        }
    }
    .pagination {
        padding-bottom: 40px;
        .previous_page {
            content: "Previous";
        }
        .next_page {
            content: "Next";
        }
    }
    .error-message {
        display: flex;
        align-items: center;
        background-color: $color-accent-red-200;
        border-radius: 4px;
        padding-right: 8px;
        .icon-container {
            height: 48px;
            width: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex: 0 0 auto;
        }
    }
}

.sparkline {
    margin-right: 16px;
    polyline {
        fill: transparent;
        stroke: $color-accent-green-600;
        stroke-linejoin: round;
        stroke-linecap: round;
    }
    .gradient {
        stop-color: $color-accent-green-600;
    }
    @media (max-width: $small-breakpoint) {
        display: none;
    }
}

.modal-purpose-action_preview {
    .action-description {
        border-radius: 8px;
        margin-bottom: 16px;
        border-left-width: 1px;
        border-right-width: 1px;
    }
    .content {
        padding: 16px;
    }
}
.action-description {
    @include border($color-borders);
    border-width: 1px 0 1px 0;
}
.action-preview-entries {
    position: static;
    margin-left: auto;
    margin-right: auto;
    ul li .entries-inner-wrap {
        margin-left: 25px;
    }
    .entries-inner-wrap {
        padding-right: 0;
    }
    .entry-image, .link-preview, .summary-status {
        display: none !important;
    }
    a, div {
        pointer-events: none;
    }
}

.control-group-description, .control-description {
    padding-top: 0;
    @include font-size(14px);
    @include color($color-contrast-500);
    white-space: normal;
    margin: 0;
    a {
        text-decoration: underline;
    }
}

.control-group-description {
    margin: 8px 0 0 0;
}

@keyframes spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(360deg);
        transform: rotate(360deg);
    }
}
.spinner-container {
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
}
.spinner {
    $size: 16px;
    height: $size;
    width: $size;
    position: relative;
    display: block;
    &:before, &:after {
        position: absolute;
        top: 0;
        right: 0;
        left: 0;
        bottom: 0;
        border-radius: 50%;
        display: block;
        content: "";
        height: $size;
        width: $size;
    }
    &:before {
        border: 2px solid transparent;
        @include border-color($color-contrast-300);
    }
    &:after {
        transform: translateZ(0);
        animation: spin 1s infinite linear;
        border-top: 2px solid transparent;
        border-right: 2px solid transparent;
        border-bottom: 2px solid transparent;
        border-left: 2px solid transparent;
        @include theme("border-left-color", $color-contrast-400);
    }
    &.large {
        $size: 32px;
        height: $size;
        width: $size;
        &:before, &:after {
            border-width: 4px;
            height: $size;
            width: $size;
        }
    }
}

label.text-field {
    display: block;
    font-weight: bold;
    @include font-size(16);
    input {
        display: block;
        margin-top: 10px;
    }
    margin-bottom: 30px;
}

.has-description {
    margin-bottom: 32px;
}

.control-group {
    list-style: none;
    margin: 0;
    padding: 0;
    margin-bottom: 32px;
    @include border-bottom($color-borders);
    .has-description & {
        margin-bottom: 8px;
    }
    &.no-border, .modal & {
        @include border-bottom(transparent);
    }
    li > label,
    li > a,
    li > .form-control,
    li > form > label {
        @include form-control;
        padding: 16px 0;
        margin: 0;
        text-decoration: none;
        &.inline {
            display: flex;
            align-items: center;
        }
        .info {
            margin-left: auto;
            @include color($color-contrast-500);
        }
    }
    li > a {
        @include color($color-link);
    }
    > li {
        margin: 0;
        padding: 0;
        position: relative;
        @include border-top($color-borders);
        &.no-border, .modal & {
            @include border-top(transparent);
        }
        &.text {
            padding: 0;
            label {
                padding: 0;
            }
        }
        &.text-label {
            label {
                padding: 0;
            }
        }
        &.right {
            text-align: right;
        }
    }
    label {
        user-select: none;
    }
    textarea {
        line-height: 1.2;
    }
    input[type="radio"], input[type="checkbox"] {
        @extend .visually-hidden;
    }
    input[type="checkbox"] + label, input[type="radio"] + label {
        padding-right: 51px;
    }
    &.no-margin {
        margin-bottom: 0;
    }
}

.inset, .control-group {
    .table {
        @include border-top($color-borders);
        @include border-bottom($color-borders);
        margin: 0;
        td {
            width: 33% !important;
        }
        td:first-child {
            padding-left: 0 !important;
        }
        td:last-child {
            padding-right: 0 !important;
            text-align: right;
        }
        td input {
            margin: 0;
        }
    }
}

.card-meta {
    display: flex;
    > * {
        flex: 1 1 0;
        margin-left: 16px;
    }
    :first-child {
        margin-left: 0;
    }
    @media (max-width: $small-breakpoint) {
        flex-direction: column;
        > * {
            margin-left: 0;
        }
    }
}
#card-element {
    flex: 1;
    border-radius: 4px;
    padding: 6px 8px 7px 8px;
    @include background-color($color-contrast-200);
    @include border(transparent);
    &.StripeElement--focus {
        @include focus;
    }
}

.settings-feeds {
    .alert {
        display: none;
    }
}

table.small td {
    font-size: 13px;
}

.action-item {
    position: relative;
    .action-description {
        padding-right: 100px;
    }
    .action-links {
        position: absolute;
        text-align: right;
        position: absolute;
        top: 11px;
        right: 35px;
    }
    .action-destroy {
        color: red;
    }
}

.filter-search {
    input[type="search"] {
        width: 100%;
        max-width: 100%;
        border-radius: 0;
        margin: 0;

    }
}

.filter-search-preview {
    .autocomplete-suggestions {
        @include border-left($color-borders);
        @include border-right($color-borders);
        @include border-bottom($color-borders);
    }
    .autocomplete-suggestion {
        color: black;
        padding: 5px;
        pointer-events: none;
        border-bottom: none;
    }
}

.filter-feeds-include-all {
    border-top: 1px solid map-get($color-borders, day);
    padding: 8px 30px;
    background: map-get($color-contrast-100, day);
    position: relative;
    display: flex;
    align-items: baseline;
    @media (max-width: $small-breakpoint) {
        padding-left: 15px;
        padding-right: 15px;
    }
}

.filter-wrap {
    @include border($color-borders);
    border-radius: 8px;
    margin-bottom: 32px;
    &.separate-header {
        border-top: none;
        border-radius: 0 0 8px 8px;
    }
    @media (max-width: $small-breakpoint) {
        border: none;
        &.separate-header {
            .pill-list {
                border-top: none;
            }
        }
    }
}
.filter {
    overflow-y: auto;
    overflow-x: hidden;
    resize: vertical;
    height: 200px;
    padding-bottom: 8px;
    .pill-list {
        margin: 0;
        border: none;
        li {
            padding-left: 16px;
            padding-right: 16px;
        }
        li:first-child {
            border-top: none;
        }
    }
    @media (max-width: $small-breakpoint) {
        .pill-list {
            @include border-top($color-borders);
            @include border-bottom($color-borders);
            li {
                padding-left: 0;
                padding-right: 0;
            }
        }
    }
}

[data-behavior="action_send_push_notification"] {
    display: none;
    .supports-push & {
        display: block;
    }
    .push-off &, .push-disabled & {
        display: none;
    }
}

.push-options {
    font-size: 13px;
    @include color($color-contrast-600);
    line-height: 1.2;
    @include border($color-borders);
    @include background-color($color-contrast-100);
    margin: 0 0 15px 0;
    padding: 8px 6px;
    button {
        font-size: 13px !important;
        display: inline !important;
    }
    p {
        margin-bottom: 0;
    }
}

.push-off {
    .push-enable {
        display: block;
    }
}

.push-on {
    .push-disable {
        display: block;
    }
}

.push-disabled {
    .push-disabled {
        display: block;
    }
}

.push-feed-settings {
    font-size: 14px;
    line-height: 1.5;
    .radio {
        float: left;
        margin-right: 15px;
        input {
            margin-top: 2px;
        }
    }
}
.highlight-positive {
    color: $color-accent-green-600;
    font-weight: bold;
}

.highlight-negative {
    color: red;
    font-weight: bold;
}

.sharing-table {
    td:last-child {
        text-align: right;
    }
    .has-message {
        td {
            border-bottom: none;
            padding-bottom: 0;
        }
    }
    .message {
        td:last-child {
            padding-top: 0;
            text-align: left;
        }
    }
}
/*------------------------------------------------------------------------------
Billing/Subscribe
------------------------------------------------------------------------------*/
#payment_request_button {
    width: 150px;
    display: none;
}
#credit_card_button {
    display: none;
    &.update-cc-button {
        display: inline-block !important;
    }
}
#credit_card_payment {
    margin-bottom: 8px;
}
[data-behavior="billing_option_apple_pay"] {
    display: none;
}
[data-behavior="billing_option_payment_request"] {
    display: none;
}
[data-behavior="payment_method"], [data-behavior="credit_card_details"] {
    display: none;
}
.native-payment {
    [data-behavior="payment_method"] {
        display: block;
    }
    [data-behavior="billing_option_payment_request"] {
        display: block;
    }
    #payment_request_button {
        display: inline-block;
    }
}
.apple-pay {
    [data-behavior="billing_option_apple_pay"] {
        display: block;
    }
    [data-behavior="billing_option_payment_request"] {
        display: none;
    }
}
.native-payment.billing_method_credit_card {
    [data-behavior="credit_card_details"] {
        display: block;
    }
    #credit_card_button {
        display: inline-block;
    }
    #payment_request_button {
        display: none;
    }
}

.no-native-payment {
    #credit_card_button {
        display: inline-block;
    }
    [data-behavior="credit_card_details"] {
        display: block;
    }
}

/*------------------------------------------------------------------------------
Icons
------------------------------------------------------------------------------*/
.icon-clock {
    height: 16px;
    width: 16px;
    border-radius: 12px;
    border: 2px solid map-get($color-borders, day);
    display: inline-block;
    position: relative;
    &:before {
        position: absolute;
        left: 5px;
        top: 6px;
        width: 5px;
        height: 1px;
        display: block;
        background-color: map-get($color-contrast-200, day);
        content: "";
    }
    &:after {
        position: absolute;
        left: 5px;
        top: 2px;
        width: 1px;
        height: 5px;
        background-color: map-get($color-contrast-200, day);
        display: block;
        content: "";
    }
}

/*------------------------------------------------------------------------------
Buttons
------------------------------------------------------------------------------*/
button.reset {
    appearance: none;
    background-color: transparent;
    border: none;
    margin: 0;
    padding: 0;
}

.button {
    appearance: none;
    @include background($color-selected);
    border: none;
    margin: 0;
    padding: 0;
    @include font-size(14);
    font-weight: bold;
    font-family: $font-stack;
    @include color(white);
    text-decoration: none !important;
    @include border($color-selected);
    border-width: 2px;
    border-radius: 4px;
    padding: 5px 8px;
    min-width: 96px;
    display: inline-block;
    text-align: center;
    cursor: pointer;
    position: relative;
    white-space: nowrap;
    line-height: 1.3;
    &.flex {
        width: 100%;
    }
    &:before {
        content: "";
        display: block;
        border: 4px solid transparent;
        position: absolute;
        pointer-events: none;
        top: -7px;
        right: -7px;
        bottom: -7px;
        left: -7px;
        border-radius: 9px;
    }
    &:hover {
        text-decoration: none;
        @include color(white);
    }
    &:active {
        @include border-color($color-selected-hover);
        @include background-color($color-selected-hover);
        @include color(white);
        cursor: pointer;
    }
    &:focus {
        outline: none;
        box-shadow: none;
        &:before {
            border-color: $color-accent-blue-400;
        }
    }
    &[disabled], &.disabled {
        @include color($color-base-light-200);
        @include border-color($color-contrast-300);
        @include background-color($color-contrast-300);
        cursor: default;
        &:focus {
            box-shadow: none;
            @include color($color-base-light-200);
            @include border-color($color-contrast-300);
            @include background-color($color-contrast-300);
        }
        &:hover {
            @include border-color($color-contrast-300);
            @include background-color($color-contrast-300);
        }
    }
}

.button-secondary {
    @include background-color(transparent);
    @include color($color-contrast-600);
    @include border-color($color-contrast-300);
    &:hover {
        @include color($color-contrast-600);
    }
    &:active:not([disabled]) {
        @include background-color(transparent);
        @include color($color-contrast-700);
        @include border-color($color-contrast-600);
    }
    &[disabled], &.disabled, &[disabled]:active, &.disabled:active {
        @include color($color-base-light-200);
        @include border-color($color-contrast-300);
        @include background-color($color-contrast-300);
    }
}

.button-tertiary {
    min-width: auto;
    @include background-color(transparent);
    @include color($color-contrast-600);
    @include border-color(transparent);
    &:hover {
        @include background-color(transparent);
        @include color($color-contrast-600);
    }
    &:active {
        @include background-color(transparent);
        @include color($color-contrast-700);
        @include border-color(transparent);
    }
    &[disabled] {
        @include color($color-contrast-400);
    }
}

.button-huge {
    @include color($color-contrast-600);
    @include background-color($color-contrast-200);
    border: 1px dashed transparent;
    @include border-color($color-contrast-500);
    width: 100%;
    border-radius: 4px;
    padding: 16px;
    display: block;
    text-align: center;
    font-weight: bold;
    margin-bottom: 48px;
    text-decoration: none !important;
    &:hover {
        @include color($color-contrast-700);
        @include background-color($color-contrast-200);
        border: 1px dashed transparent;
        @include border-color($color-contrast-600);
        text-decoration: none;
    }
}


.grabber {
    cursor: move;
    @include border-color($color-accent-blue-600);
    @include background-color($color-accent-blue-600);
    @include color($theme-color-100);
    text-decoration: none !important;
    &:hover {
        @include color($theme-color-100);
    }
    &:active {
        @include border-color($color-accent-blue-600);
        @include background-color($color-accent-blue-600);
        @include color($theme-color-100);
    }
    ~ .accessory svg {
        @include fill($theme-color-100);
    }
    ~ .grabber-icon {
        @include background-color($color-accent-blue-700);
        border-radius: 0 4px 4px 0;
        svg {
            @include fill($color-accent-blue-400);
        }
    }
}


.settings .pagination {
    text-align: center;
    a, span, em {
        @extend .button;
        @extend .button-secondary;
        min-width: auto;
        padding: 7px 12px;
        margin-bottom: 10px;
        margin-left: 4px;
        &:first-child {
            margin-left: 0;
        }
        @media (max-width: $small-breakpoint) {
            display: none;
            &.previous_page, &.next_page {
                display: inline-block;
            }
        }
        &.current {
            font-style: normal;
            @include background-color(transparent);
            @include color($color-contrast-700);
            @include border-color($color-contrast-600);
        }
        &.gap {
            border: none;
            color: map-get($color-contrast-400, day) !important;
            padding-left: 7px;
            padding-right: 7px;
        }
    }
}

.button-text {
    appearance: none !important;
    background: none;
    border: none;
    margin: 0;
    padding: 0;
    font-weight: normal;
    font-family: $font-stack;
    @include color($color-link);
    border-radius: 2px;
    padding: 1px;
    font-size: 14px;
    text-decoration: underline;
    &.large {
        font-size: 16px;
    }
    .modal & {
        text-decoration: none;
    }
}

.button-empty {
    line-height: 0;
}

.button::-moz-focus-inner {
    border: 0;
    padding: 0;
    margin-top:-3px;
    margin-bottom: -3px;
}

.stacked-form, .field-cluster {
    .input-group + .input-group,
    .autocomplete-parent + .input-group {
        margin-top: 16px;
    }
}

.button-wrap-inline {
    display: flex;
    align-items: center;
    .button + .button,
    .button + .input-group,
    .input-group + .input-group,
    .input-group + button,
    .button-text + .button-text {
        margin-left: 16px;
    }
}
.button-wrap {
    margin-top: 16px;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    .button + .button {
        margin-left: 16px;
    }
}

.button-toggle-content.active * {
    fill: $color-accent-green-600 !important;
}

/*------------------------------------------------------------------------------
Link Viewer
------------------------------------------------------------------------------*/
.placeholder-content h1:empty, .placeholder-content p:empty {
    @include background($color-contrast-300);
}
.placeholder-content p:empty {
    height: 12px;
}
.placeholder-content p:nth-child(2n) {
    width: 90%;
}
.placeholder-content p:nth-child(3n) {
    width: 96%;
}
.placeholder-content p:last-child {
    width: 30%;
}

.view-link-error-container {
    display: flex;
    justify-content: center;
    flex-direction: column;
    .view-link-error {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-top: 40px;
        font-size: 24px;
        margin-bottom: 40px;
        svg {
            margin-right: base-units(1);
        }
    }
    p {
        display: inline-block;
        text-align: center;
    }
}


/*------------------------------------------------------------------------------
Helpers
------------------------------------------------------------------------------*/
.full-height {
    height: 100%;
}

.align-right {
    text-align: right;
}

.align-left {
    text-align: left !important;
}

.align-center {
    text-align: center;
}

.pad-top {
    padding-top: 20px;
}

.pad-bottom {
    padding-bottom: 20px;
}

// Hide tracking pixels
img[height="1"][width="1"] {
    display: none;
}

.button-inverse {
    -webkit-font-smoothing: antialiased;
}

select, input[type="file"] {
    height: auto;
    line-height: 0;
}

select {
    width: auto;
}

.alert {
    padding: 8px 35px 8px 14px;
    margin-bottom: 20px;
    @include background-color($color-selected);
    color: white;
}

.alert:empty {
    display: none;
}

.alert h4 {
    color: white;
    margin: 0;
}

.alert .close {
    position: relative;
    top: -2px;
    right: -21px;
    line-height: 20px;
}

.alert-success {
    @include background-color($color-selected);
}

.alert-info,
.alert-danger,
.alert-error {
    background-color: $color-accent-red-600;
}

.alert-block {
    padding-top: 14px;
    padding-bottom: 14px;
}

.visually-hidden, .ui-helper-hidden-accessible, .mejs__offscreen, .mejs_empty__offscreen  {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.ui-resizable-e {
    height: 100%;
    width: 8px;
    position: absolute;
    background-color: transparent;
    right: -4px;
    top: 0;
    cursor: col-resize;
}

.no-margin {
    margin: 0;
}

.half-margin {
    margin-bottom: 8px;
}

hr {
    @include background-color($color-contrast-200);
    @include color($color-contrast-200);
    clear: both;
    float: none;
    width: 100%;
    height: 1px;
    margin: 25px 0;
    border: none;
    display: block;
}

hr.space-small {
    margin: 10px 0;
    background: transparent;
    color: transparent;
    visibility: hidden;
}

hr.space {
    background: transparent;
    color: transparent;
    visibility: hidden;
}

hr.space-large {
    background: transparent;
    color: transparent;
    visibility: hidden;
    padding: 15px 0;
}

hr.nospace {
    background: transparent;
    color: transparent;
    visibility: hidden;
    margin: 0;
}

.inline {
    display: inline;
}

.por {
    position: relative;
}

.half {
    width: 50%;
    float: left;
}

.float-right {
    float: right;
}

.pull-right {
    float: right;
}

.pull-left {
    float: left;
}

.hide {
    display: none;
}

.hidden {
    visibility: hidden;
}

input[type="text"].hide {
    display: none;
}

.show {
    display: block;
}

.invisible {
    visibility: hidden;
}

.hide-text {
    font: 0/0 a;
    color: transparent;
    text-shadow: none;
    background-color: transparent;
    border: 0;
}

.truncated {
    display: block;
    text-overflow: ellipsis;
    overflow-x: hidden;
    white-space: nowrap;
}

.text-left {
    text-align: left;
}

.text-right {
    text-align: right;
}

.large {
    font-size: 14px;
}

.x-large {
    font-size: 18px;
}

.muted {
    @include color($color-contrast-600);
}

.extra-muted {
    @include color($color-contrast-500);
}

.faded {
    @include color($color-contrast-400);
}

.danger {
    @include color($color-accent-red-600);
}

a:hover.danger {
    color: $color-accent-red-600;
}

.xs-hide {
    display: none;
    @include respond-to(screen-xs) {
        display: block;
    }
}

.sm-hide {
    display: none;
    @include respond-to(screen-sm) {
        display: block;
    }
}

.md-hide {
    display: none;
    @include respond-to(screen-md) {
        display: block;
    }
}

.lg-hide {
    display: none;
    @include respond-to(screen-lg) {
        display: block;
    }
}

.xs-show {
    display: block;
    @include respond-to(screen-xs) {
        display: none;
    }
}

.sm-show {
    display: block;
    @include respond-to(screen-sm) {
        display: none;
    }
}

.md-show {
    display: block;
    @include respond-to(screen-md) {
        display: none;
    }
}

.lg-show {
    display: block;
    @include respond-to(screen-lg) {
        display: none;
    }
}

.shake {
    @keyframes shake {
        10%, 90% {
            transform: translateX(-2px);
        }
        20%, 80% {
            transform: translateX(3px);
        }
        30%, 50%, 70% {
            transform: translateX(-5px);
        }
        40%, 60% {
            transform: translateX(5px);
        }
    }
    animation: shake 0.6s cubic-bezier(.36,.07,.19,.97) both;
}

.password-message {
    margin: 0 0 base-units(3) 0;
    @include font-size(14);
}

.status-indicator {
    overflow: hidden;
    display: flex;
    align-items: center;
    .icon-star-on {
        height: 12px !important;
        width: 12px !important;
    }
}

.status-flag {
    width: 38px;
    height: 20px;
    position: absolute;
    overflow: hidden;
    display: none;
    &:before {
        position: absolute;
        top: 0;
        left: 0;
        background-repeat: no-repeat;
        width: 38px;
        height: 21px;
        content: '';
        z-index: 1;
    }
    &:after {
        position: absolute;
        top: 4px;
        left: 9px;
        @include background-color($color-base);
        height: 44px;
        width: 35px;
        content: '';
        transform: rotate(63deg);
        z-index: 2;
    }
    &.icon-muted {
        left: 0;
        top: -1px;
        &:before {
            @include background-color((
                debug:    color-contrast-inverted-600,
                day:      $theme-color-600,
                sunset:   $theme-color-sunset-600,
                dusk:     $theme-color-dusk-200,
                midnight: $theme-color-midnight-200,
            ));

            background-image: image-url("icon-muted.svg");
            background-position: 4px 3px;
            background-size: 9.693px 9.693px;
        }
        .status-muted & {
            display: block;
        }
    }
    &.icon-error {
        left: 0;
        top: -1px;
        &:before {;
            background-color: $color-accent-red-600;
            background-image: image-url("icon-bang.svg");
            background-position: 4px 3px;
            background-size: 4px 10px;
        }
        .status-muted & {
            display: block;
        }
    }
}

.theme-color-body {
    width: 5px;
    height: 5px;
    @include background-color($color-base);
}

.theme-color-border {
    width: 5px;
    height: 5px;
    @include background-color($color-borders);
}


/*------------------------------------------------------------------------------
Login and Sign Up
------------------------------------------------------------------------------*/
.login {
    @include background-color($color-contrast-100, $root: true);
    padding: 15px;
    display: flex;
    align-items: center;
    a {
        @include color($color-link);
    }
    .login-wrap {
        margin: auto;
        width: 400px;
    }
    .logo {
        display: block;
        margin: 0 auto 32px auto;
        display: flex;
        align-items: center;
        justify-content: center;
        svg {
            width: 180px !important;
            height: auto !important;
            #logo_foreground {
                @media (prefers-color-scheme: dark) {
                    fill: $theme-color-dusk-100;
                }
            }
        }
    }
    .content {
        position: static;
        width: 100%;
    }
    .box-header {
        font-size: 18px;
        font-weight: bold;
        text-align: center;
        margin: 0 0 15px 0;
        @include color($color-contrast-700, $root: true);
    }
    .box {
        border: 1px solid transparent;
        @include border-color($color-borders, $root: true);
        border-radius: 4px;
        background-color: white;
        @include background-color($color-base, $root: true);
        margin: 0 auto 14px auto;
        width: 100%;
        max-width: 400px;
        padding: 15px;
        .alert {
            margin-top: 0;
        }
        @include respond-to(screen-xs) {
            padding: 36px;
        }
    }
    .input-group {
        margin-bottom: 16px;
    }
    .field_with_errors + input {
        margin-top: 10px !important;
    }
    .forgot-link {
        display: block;
        margin: 10px 0 0 0;
        text-align: center;
        @include color($color-contrast-500);
    }

}

/*------------------------------------------------------------------------------
Receipt
------------------------------------------------------------------------------*/
.company-info, .customer-info {
    display: inline-block;
}
.company-info {
    float: right;
    background: image-url("logo.svg") 0 5px no-repeat;
    background-size: auto 50px;
    padding-left: 80px;
}
.customer-info {
    float: left;
}


/*------------------------------------------------------------------------------
Right-to-left
------------------------------------------------------------------------------*/
[dir="rtl"] {
    text-align: right;
    .content-styles {
        font-size: 1.25em;
    }
    blockquote {
        padding: 0 15px 0 0;
        border-right: 5px solid map-get($color-borders, day);
        border-left: none;
    }
}



/*------------------------------------------------------------------------------
Print
------------------------------------------------------------------------------*/
@media print {
    @page {
        margin: 1in;
    }
    body {
        font-family: "Mercury SSm A", "Mercury SSm B", $font-stack;
        font-weight: 400;
        font-style: normal;
    }
    h1,h2,h3,h4,h5,h6 {
        font-family: $font-stack;
    }
    hr {
        background: none;
        border-top: 1px solid #333;
    }
    h2, ul {
        page-break-after: avoid;
    }
    p {
        orphans: 3;
        widows: 3;
    }
    p, li, blockquote, table {
        font-size: 12pt;
    }
    .app .bar,
    .app .feeds-column,
    .app .entries-column,
    .app .entry-toolbar {
        display: none !important;
    }
    .app .content,
    .app .entry-content {
        position: static;
    }
    .app .entry-inner {
        max-width: 100%;
        padding: 0;
    }
    .entry-header .feed-title {
        display: block !important;
    }
    a[href^="http://"]:after, a[href^="https://"]:after {
        content: " (" attr(href) ")";
    }
}

/*------------------------------------------------------------------------------
Fullscreen
------------------------------------------------------------------------------*/
.full-screen {
    .feeds-column, .entries-column, .account-toolbar, .sidebar-column {
        position: absolute !important;
        top: -9999px !important;
        left: -9999px !important;
    }
    .app-panel {
        border-top: none;
    }
}


/*------------------------------------------------------------------------------
Media Players
------------------------------------------------------------------------------*/

.audio-container {
    margin-bottom: 10px !important;
    display: flex;
    align-items: stretch;
    .audio-image {
        flex-shrink: 0;
        height: 54px;
        width: 54px;
        display: flex;
        align-items: center;
        justify-content: center;
        @include background-color($color-contrast-200);
        position: relative;
        border: 2px solid white;
        box-shadow: 0px 1px 1px 0px rgba(0, 0, 0, 0.1);
        .image-container {
            line-height: 0;
        }
        img {
            max-width: 100%;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
        }
        svg {
            @include fill($color-icons);
        }
    }
    .audio-text {
        margin-left: 15px;
        margin-right: 15px;
        min-width: 0;
        width: 100%;
        div {
            line-height: 1.4;
        }
        .entry-feed-title {
            font-weight: bold;
            @include color($color-contrast-700);
        }
        .audio-title, .audio-duration {
            @include color($color-contrast-500);
            @include font-size(12);
        }
        .entry-feed-title, .audio-title {
            display: block;
            text-overflow: ellipsis;
            overflow-x: hidden;
            white-space: nowrap;
        }
        .audio-title-wrap {
            display: flex;
            .audio-duration {
                margin-left: 10px;
                margin-right: 10px;
                white-space: nowrap;

            }
        }
    }
    .audio-controls {
        margin-left: auto;
        display: flex;
        align-items: center;
        a {
            line-height: 0;
        }
        svg * {
            @include fill($color-icons);
        }
        button, a {
            display: flex;
            align-items: center;
            justify-content: center;

            height: 100%;
            padding-left: 25px;
        }
    }
}

.audio-panel {
    cursor: pointer;
    padding: 12px 12px 0 12px;
    font-size: 13px;
    font-family: $font-stack !important;
    font-weight: 400 !important;
    @include background-color($color-contrast-100);
    @include border-top($color-borders);
    @include border-bottom($color-borders);
    width: 100%;
    left: 0;
    overflow: hidden;
    z-index: 1;
    height: 0;
    display: none;
    position: relative;
    .animate-panel & {
        transition: .1s ease-in height;
    }
    .audio-panel-minimized & {
        display: block;
        height: $audio-player-height-minimized;
        padding: 0;
    }
    .audio-panel-maximized & {
        display: block;
        height: $audio-player-height;
        .audio-container {
            margin: 0 0 5px 0;
        }
    }
    .feed-title-wrap {
        display: flex;
        user-select: none;
        .entry-feed-title {
            margin-right: 10px;
        }
    }
    .audio-panel-controls {
        right: 0px;
        top: 0px;
        position: absolute;
        white-space: nowrap;
        width: 30px;
        height: 39px;
        .button-change-size {
            &:after {
                display: block;
                content: "+";
                .audio-panel-maximized & {
                    content: "-";
                }
            }
        }
        button {
            text-decoration: none;
            display: flex;
            height: 100%;
            width: 100%;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            @include color($color-contrast-400);
            &:hover {
                text-decoration: none;
            }
        }
    }
    .audio-image {
        height: 43px;
        width: 43px;
        background-size: 11px 19px;
        .audio-panel-maximized & {
            .play-button {
                display: none;
            }
        }
        .audio-panel-minimized & {
            background-color: transparent;
            border: none;
            box-shadow: none;
            height: 48px;
            .play-button {
                display: flex;
                flex: 1;
                height: 100%;
                align-items: center;
                justify-content: center;
                svg {
                    align-self: center;
                    margin: auto;
                }
            }
            .image-container {
                display: none;
            }
        }
    }
    .audio-text {
        margin-left: 6px;
        margin-right: 0;
        padding-right: 20px;
        .audio-panel-minimized & {
            padding-top: 12px;
        }
        .audio-title {
            font-size: 12px;
        }
        div {
            line-height: 1.3;
        }
    }
    .audio-duration {
        .audio-panel-minimized & {
            display: none;
        }
    }
    .audio-player-controls {
        display: flex;
        justify-content: center;
        .audio-panel-minimized & {
            display: none;
        }
        button {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 40px;
            width: 40px;
            @include color($color-contrast-500);
            margin-left: 20px;
            &:first-child {
                margin-left: 0;
            }
        }
        svg {
            @include fill($color-icons);
            @include color($color-icons);
        }
    }
}

.play-button {
    .icon-pause {
        display: none;
    }
    &.playing {
        .icon-pause {
            display: block;
        }
        .icon-play {
            display: none;
        }
    }
    &.paused {
        .icon-pause {
            display: none;
        }
        .icon-play {
            display: block;
        }
    }
}

.audio-progress {
    height: 5px;
    left: 0;
    right: 0;
    bottom: 0;
    position: absolute;

    .mejs_empty__controls {
        height: 5px;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        display: flex;
    }
    .mejs_empty__button,
    .mejs_empty__time,
    .mejs_empty__time-rail {
        font-size: 10px;
        height: 5px;
        line-height: 10px;
        margin: 0;
        width: 32px;
    }
    .mejs_empty__time-hovered.no-hover {
        -webkit-transform: scaleX(0) !important;
            -ms-transform: scaleX(0) !important;
                transform: scaleX(0) !important;
    }

    .mejs_empty__time-handle,
    .mejs_empty__time-handle-content {
        display: none !important;
    }

    .mejs_empty__time-handle-content {
        border: 4px solid rgba(255, 255, 255, 0.9);
        border-radius: 50%;
        height: 10px;
        left: -7px;
        top: -4px;
        -webkit-transform: scale(0);
            -ms-transform: scale(0);
                transform: scale(0);
        width: 10px;
    }

    .mejs_empty__time-rail:hover .mejs_empty__time-handle-content,
    .mejs_empty__time-rail .mejs_empty__time-handle-content:focus,
    .mejs_empty__time-rail .mejs_empty__time-handle-content:active {
        -webkit-transform: scale(1);
            -ms-transform: scale(1);
                transform: scale(1);
    }

    .mejs_empty__time-float {
        background: #eee;
        border: solid 1px #333;
        bottom: 100%;
        color: #111;
        display: none;
        height: 17px;
        margin-bottom: 9px;
        position: absolute;
        text-align: center;
        -webkit-transform: translateX(-50%);
            -ms-transform: translateX(-50%);
                transform: translateX(-50%);
        width: 36px;
    }

    .mejs_empty__time-float-current {
        display: block;
        left: 0;
        margin: 2px;
        text-align: center;
        width: 30px;
    }

    .mejs_empty__time-float-corner {
        border: solid 5px #eee;
        border-color: #eee transparent transparent;
        border-radius: 0;
        display: block;
        height: 0;
        left: 50%;
        line-height: 0;
        position: absolute;
        top: 100%;
        -webkit-transform: translateX(-50%);
            -ms-transform: translateX(-50%);
                transform: translateX(-50%);
        width: 0;
    }

    .mejs_empty__long-video .mejs_empty__time-float {
        margin-left: -23px;
        width: 64px;
    }

    .mejs_empty__long-video .mejs_empty__time-float-current {
        width: 60px;
    }
    .mejs_empty__button,
    .mejs_empty__time,
    .mejs_empty__time-rail {
        font-size: 10px;
        height: 5px;
        line-height: 10px;
        margin: 0;
        width: 32px;
    }
    .mejs_empty__time {
        box-sizing: content-box;
        color: white;
        font-size: 11px;
        font-weight: bold;
        height: 24px;
        overflow: hidden;
        padding: 16px 6px 0;
        text-align: center;
        width: auto;
    }
    .mejs_empty__time-rail {
        direction: ltr;
        -webkit-box-flex: 1;
        -webkit-flex-grow: 1;
            -ms-flex-positive: 1;
                flex-grow: 1;
        height: 5px;
        position: relative;
    }

    .mejs_empty__time-total,
    .mejs_empty__time-buffering,
    .mejs_empty__time-loaded,
    .mejs_empty__time-current,
    .mejs_empty__time-float,
    .mejs_empty__time-hovered,
    .mejs_empty__time-float-current,
    .mejs_empty__time-float-corner,
    .mejs_empty__time-marker {
        border-radius: 2px;
        cursor: pointer;
        display: block;
        height: 5px;
        position: absolute;
    }

    .mejs_empty__time-total {
        width: 100%;
    }

    .mejs_empty__time-buffering {
        width: 100%;
    }

    @-webkit-keyframes buffering-stripes {
        from {
            background-position: 0 0;
        }
        to {
            background-position: 30px 0;
        }
    }

    @keyframes buffering-stripes {
        from {
            background-position: 0 0;
        }
        to {
            background-position: 30px 0;
        }
    }

    .mejs_empty__time-current,
    .mejs_empty__time-handle-content {
        @include background($color-selected);
    }

    .mejs_empty__time-hovered {
        background: rgba($selected, 0.5);
        z-index: 10;
    }

    .mejs_empty__time-hovered.negative {
        background: rgba(0, 0, 0, 0.2);
    }

    .mejs_empty__time-current,
    .mejs_empty__time-buffering,
    .mejs_empty__time-loaded,
    .mejs_empty__time-hovered {
        left: 0;
        -webkit-transform: scaleX(0);
            -ms-transform: scaleX(0);
                transform: scaleX(0);
        -webkit-transform-origin: 0 0;
            -ms-transform-origin: 0 0;
                transform-origin: 0 0;
        -webkit-transition: 0.15s ease-in all;
        transition: 0.15s ease-in all;
        width: 100%;
    }

    .mejs_empty__time-buffering {
        -webkit-transform: scaleX(1);
            -ms-transform: scaleX(1);
                transform: scaleX(1);
    }

    .mejs_empty__time-hovered {
        -webkit-transition: height 0.1s cubic-bezier(0.44, 0, 1, 1);
        transition: height 0.1s cubic-bezier(0.44, 0, 1, 1);
    }

    .mejs_empty__time-hovered.no-hover {
        -webkit-transform: scaleX(0) !important;
            -ms-transform: scaleX(0) !important;
                transform: scaleX(0) !important;
    }

    .mejs_empty__time-handle,
    .mejs_empty__time-handle-content {
        border: 4px solid transparent;
        cursor: pointer;
        left: 0;
        position: absolute;
        -webkit-transform: translateX(0);
            -ms-transform: translateX(0);
                transform: translateX(0);
        z-index: 11;
    }

    .mejs_empty__time-handle-content {
        border: 4px solid rgba(255, 255, 255, 0.9);
        border-radius: 50%;
        height: 10px;
        left: -7px;
        top: -4px;
        -webkit-transform: scale(0);
            -ms-transform: scale(0);
                transform: scale(0);
        width: 10px;
    }

    .mejs_empty__time-rail:hover .mejs_empty__time-handle-content,
    .mejs_empty__time-rail .mejs_empty__time-handle-content:focus,
    .mejs_empty__time-rail .mejs_empty__time-handle-content:active {
        -webkit-transform: scale(1);
            -ms-transform: scale(1);
                transform: scale(1);
    }

    .mejs_empty__time-float {
        background: #eee;
        border: solid 1px #333;
        bottom: 100%;
        color: #111;
        display: none;
        height: 17px;
        margin-bottom: 9px;
        position: absolute;
        text-align: center;
        -webkit-transform: translateX(-50%);
            -ms-transform: translateX(-50%);
                transform: translateX(-50%);
        width: 36px;
    }

    .mejs_empty__time-float-current {
        display: block;
        left: 0;
        margin: 2px;
        text-align: center;
        width: 30px;
    }

    .mejs_empty__time-float-corner {
        border: solid 5px #eee;
        border-color: #eee transparent transparent;
        border-radius: 0;
        display: block;
        height: 0;
        left: 50%;
        line-height: 0;
        position: absolute;
        top: 100%;
        -webkit-transform: translateX(-50%);
            -ms-transform: translateX(-50%);
                transform: translateX(-50%);
        width: 0;
    }

    .mejs_empty__long-video .mejs_empty__time-float {
        margin-left: -23px;
        width: 64px;
    }

    .mejs_empty__long-video .mejs_empty__time-float-current {
        width: 60px;
    }

    .mejs_empty__time-float {
        display: none !important;
    }
}

/*------------------------------------------------------------------------------
Bigfoot
------------------------------------------------------------------------------*/
.bigfoot-footnote__button {
    @include background-color($color-icons);
    padding: 0.1em;
    border-radius: 8px;
    min-width: 30px;
    line-height: 1;
    @include color((day: white, dusk: black, sunset: white, midnight: black));
    font-size: 70%;
    font-weight: bold;
}
.footnote-circle {
    @include fill($color-icons);
}
.bigfoot-footnote__wrapper, .bigfoot-footnote__content, .bigfoot-footnote__tooltip {
    background-color: map-get($color-contrast-100, day);
    color: map-get($color-contrast-700, day);
    line-height: 1.6;
}
.bigfoot-footnote.is-active {
    opacity: 1 !important;
}
.bigfoot-footnote.is-scrollable .bigfoot-footnote__wrapper {
    &:before {
        background-image: linear-gradient(to bottom, map-get($color-contrast-100, day) 50%, rgba(255,255,255,0) 100%)
    }
    &:after {
        background-image: linear-gradient(to bottom, rgba(255,255,255,0) 0%, map-get($color-contrast-100, day) 50%)
    }
}
.theme-dusk .bigfoot-footnote a, .theme-midnight .bigfoot-footnote a {
	color: black !important;
}
.theme-auto .bigfoot-footnote a {
    @media (prefers-color-scheme: dark) {
    	color: black !important;
    }
}
.theme-dusk .bigfoot-footnote a:hover, .theme-midnight .bigfoot-footnote a:hover {
    @include color($color-selected, $extra: !important);
    text-decoration: underline !important;
}
.theme-auto .bigfoot-footnote a:hover {
    @media (prefers-color-scheme: dark) {
        @include color($color-selected, $extra: !important);
        text-decoration: underline !important;
    }
}


/*------------------------------------------------------------------------------
Media Queries
------------------------------------------------------------------------------*/
@media (max-width:680px) {
    .subscribe-promo {
        display: none;
    }
}

.has-offscreen-panels {
    .audio-panel {
        bottom: 0;
    }
    .desktop-hide {
        display: block !important;
    }
    .ui-resizable-handle {
        display: none !important;
    }
    &.nothing-selected {
        .feeds-column {
            flex-grow: 1;
            border-right: none;
        }
        .entry-column,
        .entries-column {
            display: none;
        }
    }
    &.feed-selected {
        .feeds-column {
            display: none;
        }
    }
    &.entry-selected {
        .feeds-column {
            display: none;
        }
    }
    .entries-header {
        display: flex;
    }
    .feeds-column, .entries-column {
        width: 100% !important;
    }
    .search-button {
        visibility: visible !important;
    }
    .entries {
        top: -1px;
        transform: translateY($toolbar-height);
    }
    &.hide-search .entries {
        transform: translateY(0);
    }
    .entry-basement {
        top: $toolbar-height;
    }
    .theme-settings {
        border-right: none !important;
    }
    .account-toolbar {
        display: none;
    }
    .feeds-inner {
        bottom: 0;
    }
    .entry-header h1 {
        font-size: 1.6em;
    }
    .entry-header .feed-title {
        display: block !important;
    }
    .entries ul li:hover.starred .icon-star {
        display: block !important;
    }
    .basement-toolbar {
        &:before {
            right: 19px;
        }
        &:after {
            right: 20px;
        }
    }
    .share-form {
        &:before {
            right: 196px;
        }
        &:after {
            right: 197px;
        }
    }
    .toolbar-tag {
        display: none !important;
    }
    .app-wrap {
        .feeds-column,
        .entries-column {
            border-right: none;
        }
    }
}

.has-offscreen-panels.touch {
    .feeds ul li .feed-link {
        @include font-size(16);
        padding-top: 11px;
        padding-bottom: 11px;
    }
}

.one-up {
    .entry-toolbar {
        .site-info {
            .feed-button {
                margin-left: 0;
                padding: 0 10px 0 5px;
            }
            .back-button {
                display: flex;
            }
            .entry-feed-title {
                display: none;
            }
        }
    }
    .entry-inner {
        padding: base-units(2);
        .modal & {
            padding-left: 0;
            padding-right: 0;
        }
    }
    .mobile-hide {
        display: none !important;
    }
    &.entry-selected {
        .feeds-column,
        .entries-column {
            display: none;
        }
    }
}

/*------------------------------------------------------------------------------
Add
------------------------------------------------------------------------------*/
$modal-border-radius: 8px;

button.close {
    appearance: none;
    padding: 0;
    cursor: pointer;
    background: transparent;
    border: 0;
    color: map-get($color-contrast-400, day);
    svg * {
        @include fill($color-contrast-400);
    }
}

.modal-header-input {
    $icon-width: 64px;
    position: relative;
    top: 0;
    z-index: 100;
    .modal-replaced & {
        position: sticky;
    }
    .favicon-wrap {
        .theme-day & {
            background-color: transparent;
        }
    }
    .icon {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        width: $icon-width;
        display: flex;
        align-items: center;
        justify-content: center;
        pointer-events: none;
        svg {
            @include fill($color-icons);
        }
        &.favicon-icon {
            right: 0;
            left: auto;
            .favicon-wrap {
                .theme-day & {
                    background-color: transparent;
                }
            }
            .twitter-profile-image {
                height: 34px;
                width: 34px;
                img {
                    height: 30px;
                    width: 30px;
                }
            }
        }
        @media (max-width: $small-breakpoint) {
            width: 48px;
        }
    }
    input {
        border-radius: 8px;
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
        margin: 0;
        @include border(transparent);
        margin: 0;
        width: 100%;
        max-width: 100%;
        padding: 18px 64px 18px $icon-width - 8px;
        font-size: 24px;
        @include color($color-contrast-700);
        @include background-color($color-contrast-100);
        &.processing {
            background-position: right 24px top 26px;
            @media (max-width: $small-breakpoint) {
                background-position: right 16px top 26px;
            }
        }
        .modal-top & {
            border-radius: 0;
        }
        &:focus {
            @include color($color-contrast-700);
            @include border(transparent);
            @include background-color($color-contrast-100);
        }
        @media (max-width: $small-breakpoint) {
            padding-left: 48px;
            padding-right: 48px;
        }

    }
}

.feeds-search {
    @include background-color($color-contrast-100);
    border-radius: $modal-border-radius;
    position: relative;
    display: flex;
    input {
        border-radius: $modal-border-radius;
        padding-left: 16px;

    }
    .favicon-target {
        position: absolute;
        right: 24px;
        top: 0;
        bottom: 0;
        display: flex;
        align-items: center;
        .favicon-wrap {
            position: static;
            margin: auto;
        }
        .twitter-profile-image {
            height: 34px;
            width: 34px;
            img {
                height: 30px;
                width: 30px;
                border-radius: 30px;
            }
        }
    }
    label {
        @include color($color-contrast-500);
        font-weight: bold;
        white-space: nowrap;
        display: flex;
        justify-content: center;
        flex-direction: column;
        text-align: center;
        padding: 5px 0 0 24px;
        font-size: 18px;
        padding-top: 5px;
    }
    @media (max-width: $small-breakpoint) {
        label {
            padding-left: 16px;
        }
        .favicon-target {
            right: 16px;
        }
    }
}

.available-subscriptions {
    opacity: 0;
    transition: opacity .2s linear;
    input[type=text] {
        max-width: 100%;
        margin-bottom: 0;
    }
    h5 {
        font-size: 16px;
        font-weight: normal;
        margin: 1em 0 .5em 0;
    }
    .subscription-option {
        display: flex;
        align-items: stretch;
        margin-bottom: 35px;
        .title {
            flex: 1;
            position: relative;
            display: flex;
            justify-content: center;
            flex-direction: column;
            text-align: center;
        }
        .feed-url {
            position: absolute;
            bottom: -22px;
            left: 8px;
            font-size: 12px;
            @include color($color-contrast-500);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-width: 90%;
            padding-right: 5px;
            margin: 0;
        }
        .action {
            display: flex;
            align-items: center;
            margin: 0 0 0 24px;
            position: relative;
            flex-shrink: 0;
            width: 43px;
            [type=checkbox] {
                position: absolute !important;
                top: -9999px !important;
                left: -9999px !important;
            }
            .switch-inner {
                position: relative;
                right: auto;
                top: auto;
            }
            &.hide {
                display: none;
            }
        }
    }
    .feed-url {
        display: none;
    }
    .title .feed-url {
        display: block;
    }
}
.modal-footer-message {
    @include font-size(14);
    margin-right: auto !important;
    @media (max-width: 600px) {
        display: none !important;
    }
}

.modal-purpose-subscribe {
    .modal-body, .modal-footer {
        display: none;
    }
}
.modal-purpose-subscribe .done  {
    .modal-body {
        display: block;
    }
    .modal-footer {
        display: flex !important;
    }
    .feeds-search {
        border-radius: $modal-border-radius $modal-border-radius 0 0 !important;
    }
    .available-subscriptions {
        opacity: 1;
    }
    .subscribe-footer, .password-footer {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        width: 100%;
        margin-left: 0 !important;
        &.hide {
            display: none;
        }
    }
}


.autocomplete-suggestions {
    width: 100% !important;
    position: static !important;
    max-height: auto !important;
}

.autocomplete-suggestion {
    font-size: 14px;
    padding: 6px 11px;
    @include color($color-contrast-700);
    @include border-bottom($color-borders);
    text-overflow: ellipsis;
    white-space: nowrap;
    width: 100%;
    overflow: hidden;
    strong {
        font-weight: normal;
    }
    &:last-child {
        border-bottom: none;
    }
    &:hover, &.autocomplete-selected {
        @include background-color($color-selected);
        color: white;
    }
}

.autocomplete-parent {
    position: relative;
    .autocomplete-suggestions {
        border-radius: 4px;
        @include border($color-borders);
        @include background-color($color-base-alt);
        box-shadow: $box-shadow-dropdown;
    }
    .autocomplete-suggestion {
        @include color($color-contrast-700);
        @include border-color($color-borders);
        padding: 12px 16px;
        cursor: pointer;
        &:hover, &.autocomplete-selected {
            @include background-color($color-selected, $extra: !important);
            color: white !important;
        }
    }
    .autocomplete-suggestion:first-child {
        border-top-left-radius: 4px;
        border-top-right-radius: 4px;
    }
    .autocomplete-suggestion:last-child {
        border-bottom-right-radius: 4px;
        border-bottom-left-radius: 4px;
    }
    .share-autocomplete {
        z-index: 2;
        position: absolute;
        top: 32px;
        left: 7px;
        width: 100%;
        max-width: 400px;
    }
    .subscribe-tags-autocomplete {
        z-index: 2;
        position: absolute;
        top: 41px;
        left: 0;
        width: 200px;
    }
}

.swipe {
    @media (max-width: $small-breakpoint) {
        .app-wrap {
            scroll-snap-type: x mandatory;
            overflow-x: auto;
            overflow-y: hidden;
            -webkit-overflow-scrolling: touch;
        }
        .app-panel {
            top: 0;
            height: 100% !important;
            width: 100% !important;
            display: block !important;
            scroll-snap-align: start;
            flex-shrink: 0;
        }
    }
}

.sidebar-column {
    height: 100%;
    width: 350px;
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    @include border-right($color-borders);
    scroll-snap-type: x mandatory;
    .swipe & {
        white-space: nowrap;
    }
    @media (max-width: 980px) {
        width: 320px;
    }
    @media (max-width: 800px) {
        width: 300px;
    }
}

.two-up.swipe {
    .app-panel {
        top: 0;
        height: 100% !important;
        white-space: normal;
        display: block;
    }
    .sidebar-column .app-panel {
        display: inline-block !important;
        scroll-snap-align: start;
        width: 100% !important;
    }
}

/* Modal */
.modal-open {
    overflow: hidden;
}

.modal-open .modal {
    overflow-x: hidden;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
}
.modal-open.touch:not(.scroll-bars) .modal {
    min-height: 101%;
}

.fade {
  opacity: 0;
  transition: opacity 0.1s ease;
}

.fade.show {
  opacity: 1;
}

.modal {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 1050;
    display: none;
    overflow: hidden;
    outline: 0;
}

.modal-dialog {
    position: relative;
    width: auto;
    margin: 48px 8px 8px 8px;
    pointer-events: none;
    box-shadow: 0 20px 40px 0 rgba(0,0,0,.4);
    border-radius: $modal-border-radius;
    margin-bottom: env(safe-area-inset-bottom);
    .native & {
        box-shadow: none;
    }
}

.modal.fade .modal-dialog {
    transition: transform 0.3s ease-out, height 0.15s ease-in;
    transform: translate(0, -25%);
}

@media screen and (prefers-reduced-motion: reduce) {
    .modal.fade .modal-dialog {
        transition: none;
    }
}

.modal.show .modal-dialog {
    transform: translate(0, 0);
}

.modal-dialog-centered {
    display: flex;
    align-items: center;
    min-height: calc(100% - (0.5rem * 2));
}

.modal-dialog-centered::before {
    display: block;
    height: calc(100vh - (0.5rem * 2));
    content: "";
}

.modal-content {
    position: relative;
    display: flex;
    flex-direction: column;
    width: 100%;
    pointer-events: all;
    @include background-color($color-base);
    background-clip: padding-box;
    border: 1px solid rgba(0, 0, 0, 0.2);
    border-radius: $modal-border-radius;
    outline: 0;
}

.modal-backdrop {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 1040;
    opacity: 0;
    transition: opacity 0.15s linear;
    .native & {
        transition: none;
    }
}

.modal-backdrop, .theme-color-overlay {
    background-color: rgba(map-get($color-base, dusk), .5);
}

.modal-header {
    top: 0;
    position: relative;
    z-index: 100;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    padding: 12px 24px 12px 24px;
    border-top-left-radius: $modal-border-radius;
    border-top-right-radius: $modal-border-radius;
    @include border-bottom($color-borders);
    @include background-color($color-base);
    .modal-top & {
        border-radius: 0;
    }
    @media (max-width: $small-breakpoint) {
        padding-left: 16px;
        padding-right: 16px;
    }
    h5 {
        font-size: 24px;
        margin: 0;
        @media (max-width: $small-breakpoint) {
            font-size: 20px;
        }
    }
}

.modal-shown {
    .modal-header {
        position: sticky;
    }
}

.modal-header .close {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 64px;
    right: 0;
    @media (max-width: $small-breakpoint) {
        width: 51px;
    }
    svg {
        position: relative;
        top: 2px;
    }
}

.modal-title {
    margin-bottom: 0;
    line-height: 1.5;
    flex: 1;
    text-overflow: ellipsis;
    white-space: nowrap;
    width: 100%;
    overflow: hidden;
    padding-right: 80px;
    font-weight: 600;
}

.modal-body {
    position: relative;
    flex: 1 1 auto;
    padding: 24px;
    @media (max-width: $small-breakpoint) {
        padding: 16px;
    }
}

.modal-footer {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    padding: 16px 24px;
    @include border-top($color-borders);
    &.hide {
        display: none;
    }
    @media (max-width: $small-breakpoint) {
        padding: 16px;
    }
}

.modal-footer, .subscribe-footer, .password-footer  {
  > :not(:first-child) {
      margin-left: 16px;
  }
}

.modal-scrollbar-measure {
    position: absolute;
    top: -9999px;
    width: 50px;
    height: 50px;
    overflow: scroll;
}

@media (min-width: 576px) {
    .modal-dialog {
        max-width: 500px;
        margin: 2.6rem auto 1.75rem auto;
    }
    .modal-dialog-centered {
        min-height: calc(100% - (1.75rem * 2));
    }
    .modal-dialog-centered::before {
        height: calc(100vh - (1.75rem * 2));
    }
    .modal-sm {
        max-width: 300px;
    }
}

@media (min-width: 800px) {
    .modal-md {
        max-width: 650px;
    }
}

@media (min-width: 896px) {
    .modal-md {
        max-width: 725px;
    }
}

@media (min-width: 992px) {
    .modal-lg {
        max-width: 800px;
    }
}


.modal-purpose-generic, .modal-purpose-search {
    .modal-body {
        padding: 0;
    }
}

.modal-purpose-generic, .modal-purpose-subscribe, .modal-purpose-edit {
    .modal-footer {
        bottom: 0;
        z-index: 2;
        border-bottom-left-radius: $modal-border-radius;
        border-bottom-right-radius: $modal-border-radius;
        @include background-color($color-base);
        .modal-bottom & {
            border-radius: 0;
        }
        .modal-shown & {
            position: sticky;
        }
        .delete-button {
            display: flex;
            align-items: center;
            margin-right: auto;
            @include color($color-contrast-600);
            svg {
                margin-right: 5px;
                @include fill($color-contrast-600);
            }
        }
    }
}

.modal-purpose-edit {
    .modal-footer {
        border-top: none;
        .modal-bottom & {
            @include border-color($color-borders);
        }
    }
    .modal-body {
        padding-bottom: 32px;
    }
    .modal-body + .modal-footer {
        @include border-top($color-borders);
    }
    .control-group {
        margin-bottom: 0;
    }
}

.modal-wrapper {
    transition: height .15s ease;
    .modal-content *:not(.modal-header) {
        transition: opacity .15s linear;
    }
    &.loading {
        overflow: hidden;
        .modal-content * {
            opacity: 0;
        }
        .modal-header, .modal-header * {
            opacity: 1;
        }
        .modal-footer {
            position: static;
        }
    }
    &.loaded {
        .modal-content *:not(.icon-check) {
            opacity: 1;
        }
    }
}

.modal {
    .inset {
        border: none;
        @include background-color($color-base);
        padding-bottom: 0;
        margin-bottom: 0;
    }
    .control-group {
        padding: 0;
        &:first-child {
            padding-top: 0 !important;
        }
        &:empty {
            border-bottom: none;
        }
        &.tags-target {
            border-bottom: none;
            .text {
                padding-right: 45px;
            }
        }
        .icon-delete {
            position: absolute;
            right: 0px;
            top: -2px;
            bottom: 0;
            width: 45px;
            padding: 0;
            border: none;
            text-align: right;
            @include color($color-icons);
            background: transparent !important;
            font-weight: bold;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            &:focus {
                box-shadow: $subtle-focus-glow;
            }
        }
    }
    .group-header {
        @include color($color-contrast-600);
    }
}

/* tooltips */
$tooltip-arrow-width: 12px;
$tooltip-arrow-height: 6px;

.tooltip {
    position: absolute;
    z-index: 1070;
    display: block;
    margin: 0;
    font-family: $font-stack;
    font-size: 12px;
    word-wrap: break-word;
    opacity: 0;
    &.show { opacity: 1; }
    .arrow {
        position: absolute;
        display: block;
        width: $tooltip-arrow-width;
        height: $tooltip-arrow-height;
        &::before {
            position: absolute;
            content: "";
            border-color: transparent;
            border-style: solid;
        }
    }
}

.bs-tooltip-top {
    padding: $tooltip-arrow-height 0;
    .arrow {
        bottom: 0;
        &::before {
            top: 0;
            border-width: $tooltip-arrow-height ($tooltip-arrow-width / 2) 0;
            @include theme(border-top-color, $color-base-dark-700);
        }
    }
}

.bs-tooltip-right {
    padding: 0 $tooltip-arrow-height;
    .arrow {
        left: 0;
        width: $tooltip-arrow-height;
        height: $tooltip-arrow-width;
        &::before {
            right: 0;
            border-width: ($tooltip-arrow-width / 2) $tooltip-arrow-height ($tooltip-arrow-width / 2) 0;
            @include theme(border-right-color, $color-base-dark-700);
        }
    }
}

.bs-tooltip-bottom {
    padding: $tooltip-arrow-height 0;
    .arrow {
        top: 0;
        &::before {
            bottom: 0;
            border-width: 0 ($tooltip-arrow-width / 2) $tooltip-arrow-height;
            @include theme(border-bottom-color, $color-base-dark-700);
        }
    }
}

.bs-tooltip-left {
    padding: 0 $tooltip-arrow-height;
    .arrow {
        right: 0;
        width: $tooltip-arrow-height;
        height: $tooltip-arrow-width;
        &::before {
            left: 0;
            border-width: ($tooltip-arrow-width / 2) 0 ($tooltip-arrow-width / 2) $tooltip-arrow-height;
            @include theme(border-left-color, $color-base-dark-700);
        }
    }
}

.bs-tooltip-auto {
    &[x-placement^="top"] {
        @extend .bs-tooltip-top;
    }
    &[x-placement^="right"] {
        @extend .bs-tooltip-right;
    }
    &[x-placement^="bottom"] {
        @extend .bs-tooltip-bottom;
    }
    &[x-placement^="left"] {
        @extend .bs-tooltip-left;
    }
}

// Wrapper for the tooltip content
.tooltip-inner {
    max-width: 200px;
    padding: 8px 8px;
    color: white;
    text-align: center;
    @include background-color($color-base-dark-700);
    border-radius: 4px;
    line-height: normal;
}

.tooltip i {
    @include background-color((day: $theme-color-600, sunset: $theme-color-sunset-600, dusk: $theme-color-dusk-300, midnight: $theme-color-midnight-300));
    margin-left: 16px;
    display: inline-block;
    font-style: normal;
    font-weight: bold;
    padding: 2px 5px;
    box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.25);
    border-radius: 2px;
    font-family: $font-stack;
    line-height: 1;
    min-width: 16px;
    color: white;
    font-size: 12px;
    text-align: center;
    text-transform: capitalize;
}

.key-group {
    display: flex;
    justify-content: flex-end;
    align-items: center;
}

.key-group + .key-group {
    margin-top: base-units(1);
}

.key {
    margin-left: base-units(1);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 32px;
    width: 32px;
    @include background-color((day: $theme-color-100, sunset: $theme-color-sunset-100, dusk: $theme-color-dusk-200, midnight: $theme-color-midnight-200));
    @include color($color-contrast-700);
    font-style: normal;
    box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.25);
    border-radius: 4px;
    font-family: $font-stack;
    line-height: 1;
    font-size: 16px;
    text-transform: capitalize;
    &.wide {
        width: 72px;
    }
}

.spacer {
    margin-left: base-units(1);
}